<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Startup Saathi Portal</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFF7ED; /* Soft orange background */
        }
        .portal-section {
            display: none; /* Hide all sections by default */
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInContent 0.5s ease-out forwards;
        }
        .portal-section.active {
            display: block; /* Show active section */
            opacity: 1;
            transform: translateY(0);
        }

        /* Keyframes for overall section entrance */
        @keyframes fadeInContent {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Keyframes for individual tiles/list items flying in */
        @keyframes flyInItem {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Class to apply for staggered animation */
        .animate-fly-in {
            opacity: 0; /* Hidden by default until animation starts */
            animation: flyInItem 0.4s ease-out forwards;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #FFA500; /* Orange thumb */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #FF8C00; /* Darker orange on hover */
        }

        .idea-card, .tool-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.2s, box-shadow 0.2s;
            height: 100%;
        }
        .idea-card:hover, .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.12);
        }
        .input-field {
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            width: 100%;
            font-size: 1rem;
            color: #1f2937;
            background-color: #ffffff;
        }
        /* Style for range input (slider) */
        input[type='range'] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: #ddd;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
            border-radius: 4px;
        }

        input[type='range']::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #FFA500;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 2px rgba(0,0,0,0.2);
        }

        input[type='range']::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #FFA500;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 2px rgba(0,0,0,0.2);
        }

        .btn-primary {
            @apply px-6 py-3 bg-orange-600 text-white font-semibold rounded-lg hover:bg-orange-700 transition-colors shadow-md;
        }
        .btn-secondary {
            @apply px-6 py-3 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors shadow-sm;
        }

        /* Custom modal styling */
        .custom-modal-content {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            padding: 1.5rem;
            width: 90%;
            max-width: 600px; /* Increased max-width for AI modals */
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            color: #1A1A1A;
        }
        .custom-modal-backdrop {
            position: fixed;
            inset: 0;
            background-color: rgba(0,0,0,0.75);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }
        .custom-modal-backdrop.show {
            opacity: 1;
        }
        .custom-modal-content.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* AI Sparker/Co-Pilot Card Styling */
        .ai-card {
            background: linear-gradient(135deg, #FFD700, #FFA500); /* Gold to Orange gradient */
            color: white;
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 8px 16px rgba(255,165,0,0.3);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
        }
        .ai-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 24px rgba(255,165,0,0.4);
        }
        .ai-card h3 {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 800; /* font-extrabold */
            margin-bottom: 0.75rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .ai-card p {
            font-size: 1.125rem; /* text-lg */
            opacity: 0.9;
        }

        /* Growth Score Table Styling */
        .growth-score-table th, .growth-score-table td {
            padding: 0.75rem;
            border: 1px solid #e5e7eb; /* gray-200 */
            text-align: left;
        }
        .growth-score-table th {
            background-color: #f3f4f6; /* gray-100 */
            font-weight: 600;
            color: #374151; /* gray-700 */
        }
        .growth-score-table tr:nth-child(even) {
            background-color: #f9fafb; /* gray-50 */
        }
        .growth-score-table tr:hover {
            background-color: #f0f0f0; /* Lighter gray on hover */
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <!-- Top Navigation Bar -->
    <header class="bg-black text-orange-400 p-4 shadow-lg sticky top-0 z-10">
        <div class="flex items-center justify-between mb-2">
            <div class="flex items-center">
                <svg class="w-8 h-8 mr-2 text-orange-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2L6 12h12L12 2z" />
                    <path d="M12 12v10" />
                    <circle cx="12" cy="17" r="3" />
                </svg>
                <h1 class="text-2xl font-extrabold">Startup Saathi</h1>
            </div>
            <div class="text-lg font-semibold">
                Welcome, <span class="text-orange-300">Founder Jane!</span>
            </div>
        </div>
        <nav class="flex space-x-4 overflow-x-auto pb-2 sm:pb-0 justify-center">
            <a href="#dashboard" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'dashboard')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m0 0l7 7m-2 2v-10a1 1 0 00-1-1h-3m-6 9v-4m0 0h-4m4 0h4m-4 0v4m0 0h-4m4 0h4"></path></svg>
                Dashboard
            </a>
            <a href="#team-management" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'team-management')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h2a2 2 0 002-2V7a2 2 0 00-2-2h-2V3a1 1 0 00-1-1H8a1 1 0 00-1 1v2H5a2 2 0 00-2 2v11a2 2 0 002 2h2m0 0l-2 2m2-2l2 2m-2-2v2"></path></svg>
                Team Mgmt
            </a>
            <a href="#idea-marketplace" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'idea-marketplace')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                Ideas
            </a>
            <a href="#concept-builder" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'concept-builder')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                Concept Builder
            </a>
            <a href="#growth-score" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'growth-score')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h6l3 3v7a2 2 0 01-2 2H4a2 2 0 01-2-2V7a2 2 0 012-2h8l1 2z"></path></svg>
                Growth Score
            </a>
            <a href="#company-registration" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'company-registration')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
                Registration
            </a>
            <a href="#ip-branding" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'ip-branding')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 8a8 8 0 01-8-8H3m8 8a8 8 0 008-8h-1m-10 4h.01M7 10h.01"></path></svg>
                IP & Branding
            </a>
            <a href="#equity-simulator" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'equity-simulator')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 18a.5.5 0 00.75.5L9 16m-3-9h10.334C19.1 7 20 7.9 20 9v9.667c0 .9-.9 1.333-1.666.923l-7-3.667m-3.992-1.424L3 13.5V11a2 2 0 012-2h6zm-2 4h4m-4 4h4"></path></svg>
                Equity Sim
            </a>
            <a href="#govt-funding" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'govt-funding')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0h.01M12 12h9.22c.28 0 .5-.22.5-.5V5.264l-.65-.376A7.003 7003 0 0012 2a7.003 7003 0 00-8.57 3.882L3 5.264V12.5c0 .28.22.5.5.5H12z"></path></svg>
                Govt. Funding
            </a>
            <a href="#investor-connect" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'investor-connect')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h2a2 2 0 002-2V7a2 2 0 00-2-2h-2V3a1 1 0 00-1-1H8a1 1 0 00-1 1v2H5a2 2 0 00-2 2v11a2 2 0 002 2h2m0 0l-2 2m2-2l2 2m-2-2v2"></path></svg>
                Investor Connect
            </a>
            <a href="#pricing-plans" class="nav-item flex-shrink-0 flex items-center p-2 rounded-lg text-orange-400 hover:bg-orange-500 hover:text-black font-medium transition-colors duration-200" onclick="showSection(event, 'pricing-plans')">
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                Pricing Plans
            </a>
        </nav>
    </header>

    <!-- Main Content Area -->
    <main class="flex-1 p-8 overflow-y-auto">

        <!-- Dashboard Section -->
        <section id="dashboard" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">Your Founder Dashboard</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-8">
                Welcome, <span class="font-semibold text-orange-700">Founder Jane!</span> Here's a quick overview of your progress and key tools.
            </p>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="tool-card animate-fly-in" style="animation-delay: 0.1s;">
                    <div class="text-6xl text-orange-500 mb-4">ðŸ’¡</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">My Ideas</h3>
                    <p class="text-sm text-gray-700 mb-4">View and manage your current startup concepts.</p>
                    <p class="text-2xl font-bold text-orange-600 mb-4">3 Active Ideas</p>
                    <button class="btn-primary" onclick="showSection(event, 'concept-builder')">Go to Concepts</button>
                </div>
                <div class="tool-card animate-fly-in" style="animation-delay: 0.2s;">
                    <div class="text-6xl text-green-500 mb-4">âœ…</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Compliance Status</h3>
                    <p class="text-sm text-gray-700 mb-4">Stay on top of your regulatory filings.</p>
                    <p class="text-2xl font-bold text-green-600 mb-4">All Clear!</p>
                    <button class="btn-primary" onclick="showSection(event, 'company-registration')">Check Registifications</button>
                </div>
                <div class="tool-card animate-fly-in" style="animation-delay: 0.3s;">
                    <div class="text-6xl text-blue-500 mb-4">ðŸ’°</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Funding Insights</h3>
                    <p class="text-sm text-gray-700 mb-4">Explore investor matches & government grants.</p>
                    <p class="text-2xl font-bold text-blue-600 mb-4">New Matches!</p>
                    <button class="btn-primary" onclick="showSection(event, 'investor-connect')">Find Funding</button>
                </div>
            </div>

            <div class="mt-12 text-center animate-fly-in" style="animation-delay: 0.4s;">
                <button class="btn-primary text-xl" onclick="showSection(event, 'idea-marketplace')">
                    <span class="flex items-center">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m0 0h-3m-1.5 2.5V7.5a2.25 2.25 0 00-2.25-2.25H4.75A2.25 2.25 0 002.5 7.5v9.5A2.25 2.25 0 004.75 19.25h8.5A2.25 2.25 0 0015.5 17V15.5m-3.5 0v-2.25m0-2.25h2.25"></path></svg>
                        Start a New Idea / Project
                    </span>
                </button>
            </div>
        </section>

        <!-- Team Management Section -->
        <section id="team-management" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">Team Management & Access Control</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-6">
                Invite and manage your team members, and control their access to your startup's content.
            </p>

            <div class="mb-8 p-6 bg-gray-50 rounded-lg shadow-inner animate-fly-in" style="animation-delay: 0.1s;">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Add New Team Member</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label for="new-member-name" class="block text-gray-700 text-sm font-medium mb-1">Full Name:</label>
                        <input type="text" id="new-member-name" class="input-field" placeholder="John Doe">
                    </div>
                    <div>
                        <label for="new-member-email" class="block text-gray-700 text-sm font-medium mb-1">Email:</label>
                        <input type="email" id="new-member-email" class="input-field" placeholder="john.doe@example.com">
                    </div>
                    <div>
                        <label for="new-member-role" class="block text-gray-700 text-sm font-medium mb-1">Role:</label>
                        <input type="text" id="new-member-role" class="input-field" placeholder="Co-founder, Advisor, Intern">
                    </div>
                    <div>
                        <label for="new-member-access-type" class="block text-gray-700 text-sm font-medium mb-1">Access Type:</label>
                        <select id="new-member-access-type" class="input-field" onchange="togglePageSelection()">
                            <option value="all">All Pages</option>
                            <option value="selected">Selected Pages</option>
                        </select>
                    </div>
                    <div id="selected-pages-container" class="md:col-span-2 hidden">
                        <label class="block text-gray-700 text-sm font-medium mb-1">Select Pages:</label>
                        <div id="page-selection-checkboxes" class="grid grid-cols-2 sm:grid-cols-3 gap-2 bg-gray-100 p-3 rounded-md">
                            <!-- Checkboxes will be dynamically loaded here -->
                        </div>
                    </div>
                </div>
                <button class="btn-primary" onclick="addTeamMember()">Add Member</button>
            </div>

            <h3 class="text-2xl font-bold text-gray-800 mb-4 mt-8 border-b border-gray-200 pb-2">Current Team Members</h3>
            <div id="team-members-list" class="space-y-4">
                <!-- Example Team Member (will be dynamically added/removed) -->
                <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-gray-100 rounded-lg shadow-sm animate-fly-in" style="animation-delay: 0.1s;">
                    <div>
                        <p class="font-bold text-gray-800">Founder Jane</p>
                        <p class="text-sm text-gray-600">jane.founder@example.com <span class="font-semibold text-orange-600">(Admin)</span></p>
                    </div>
                    <div class="mt-3 sm:mt-0 flex items-center space-x-2">
                        <button class="text-blue-600 hover:text-blue-800" onclick="showMessageModal('Manage Access', 'Simulating: Edit access permissions for Founder Jane. This would open a detailed modal to set granular access for sections (Concept Builder, Registration, etc.) and specific files/folders.')">Manage Access</button>
                        <button class="text-red-600 hover:text-red-800" onclick="removeTeamMember('jane.founder@example.com')">Remove</button>
                    </div>
                </div>
                <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-gray-100 rounded-lg shadow-sm animate-fly-in" style="animation-delay: 0.2s;">
                    <div>
                        <p class="font-bold text-gray-800">John Doe</p>
                        <p class="text-sm text-gray-600">john.doe@example.com <span class="font-semibold text-gray-600">(Editor)</span></p>
                    </div>
                    <div class="mt-3 sm:mt-0 flex items-center space-x-2">
                        <button class="text-blue-600 hover:text-blue-800" onclick="showMessageModal('Manage Access', 'Simulating: Edit access permissions for John Doe. This would open a detailed modal to set granular access for sections (Concept Builder, Registration, etc.) and specific files/folders.')">Manage Access</button>
                        <button class="text-red-600 hover:text-red-800" onclick="removeTeamMember('john.doe@example.com')">Remove</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Idea Marketplace Section -->
        <section id="idea-marketplace" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">Idea Marketplace: Explore & Innovate</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-6">
                Discover trending ideas, explore untapped markets, or add your own concept for feedback.
            </p>

            <div class="mb-6 flex flex-wrap items-center gap-4">
                <span class="font-semibold text-gray-700">Filter by Domain:</span>
                <button class="px-4 py-2 rounded-full bg-orange-100 text-orange-700 text-sm font-medium hover:bg-orange-200">All</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">FinTech</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">HealthTech</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">E-commerce</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">SaaS</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">AI/ML</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">EdTech</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">Agritech</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">DeepTech</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">Logistics</button>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="idea-card animate-fly-in" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Decentralized Healthcare Records</h3>
                    <p class="text-sm text-gray-700 mb-4">Leveraging blockchain for secure and interoperable patient data in India.</p>
                    <span class="inline-block bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full mb-4">HealthTech</span>
                    <button class="btn-secondary" onclick="handleIdeaSelection('Decentralized Healthcare Records')">Select Idea</button>
                </div>
                <div class="idea-card animate-fly-in" style="animation-delay: 0.2s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Hyperlocal Waste Management SaaS</h3>
                    <p class="text-sm text-gray-700 mb-4">Platform connecting households, waste collectors, and recycling centers.</p>
                    <span class="inline-block bg-blue-100 text-blue-700 text-xs px-3 py-1 rounded-full mb-4">SaaS | Greentech</span>
                    <button class="btn-secondary" onclick="handleIdeaSelection('Hyperlocal Waste Management SaaS')">Select Idea</button>
                </div>
                <div class="idea-card animate-fly-in" style="animation-delay: 0.3s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Vernacular E-learning Platform for Rural India</h3>
                    <p class="text-sm text-gray-700 mb-4">Affordable, accessible educational content in local languages.</p>
                    <span class="inline-block bg-orange-100 text-orange-700 text-xs px-3 py-1 rounded-full mb-4">EdTech</span>
                    <button class="btn-secondary" onclick="handleIdeaSelection('Vernacular E-learning Platform for Rural India')">Select Idea</button>
                </div>
                <!-- New AI Idea Sparker Card -->
                <div class="ai-card animate-fly-in col-span-full md:col-span-1" style="animation-delay: 0.4s;" onclick="showIdeaSparkerModal()">
                    <h3 class="text-4xl font-extrabold">AI Idea Sparker</h3>
                    <p class="text-lg">Unleash AI to generate innovative startup concepts tailored to your interests.</p>
                </div>
            </div>

            <div class="mt-12 text-center animate-fly-in" style="animation-delay: 0.5s;">
                <button class="btn-primary text-xl" onclick="showMessageModal('Add New Idea', 'Simulating: Form to add a new idea.')">
                    <span class="flex items-center">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                        Add Your New Idea
                    </span>
                </button>
            </div>
        </section>

        <!-- Concept Builder / Workspace Section -->
        <section id="concept-builder" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">Concept Builder: <span id="concept-builder-idea-name">[Your Idea Name Here]</span></h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-6">
                Outline, refine, and collaborate on the core elements of your startup idea.
            </p>

            <div class="mb-8 border-b border-gray-200">
                <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="concept-builder-tabs" role="tablist">
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="problem-tab" type="button" role="tab" aria-controls="problem-content" aria-selected="true" onclick="showConceptTab(event, 'problem')">Problem</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="solution-tab" type="button" role="tab" aria-controls="solution-content" aria-selected="false" onclick="showConceptTab(event, 'solution')">Solution</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="product-tab" type="button" role="tab" aria-controls="product-content" aria-selected="false" onclick="showConceptTab(event, 'product')">Product</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="market-tab" type="button" role="tab" aria-controls="market-content" aria-selected="false" onclick="showConceptTab(event, 'market')">Market</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="revenue-tab" type="button" role="tab" aria-controls="revenue-content" aria-selected="false" onclick="showConceptTab(event, 'revenue')">Revenue</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="traction-tab" type="button" role="tab" aria-controls="traction-content" aria-selected="false" onclick="showConceptTab(event, 'traction')">Traction</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="team-tab" type="button" role="tab" aria-controls="team-content" aria-selected="false" onclick="showConceptTab(event, 'team')">Team</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="competition-tab" type="button" role="tab" aria-controls="competition-content" aria-selected="false" onclick="showConceptTab(event, 'competition')">Competition</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="ask-tab" type="button" role="tab" aria-controls="ask-content" aria-selected="false" onclick="showConceptTab(event, 'ask')">Ask</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="vision-tab" type="button" role="tab" aria-controls="vision-content" aria-selected="false" onclick="showConceptTab(event, 'vision')">Vision/Future</button>
                    </li>
                    <li class="mr-2" role="presentation">
                        <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300" id="files-tab" type="button" role="tab" aria-controls="files-content" aria-selected="false" onclick="showConceptTab(event, 'files')">File Repository</button>
                    </li>
                </ul>
            </div>

            <div id="concept-builder-content">
                <!-- Problem Content -->
                <div id="problem-content" class="concept-tab-content animate-fly-in active" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Define the Problem You're Solving</h3>
                    <textarea id="problem-textarea" class="input-field h-48 resize-y" placeholder="Describe the core problem your target users face. Be specific about who has this problem and why it's painful."></textarea>
                    <button class="btn-primary mt-4">Save Problem</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('problem')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Refine your problem statement with AI insights.</p>
                    </div>
                </div>

                <!-- Solution Content -->
                <div id="solution-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Your Innovative Solution</h3>
                    <textarea id="solution-textarea" class="input-field h-48 resize-y" placeholder="How does your product/service solve the identified problem? What's your unique approach?"></textarea>
                    <button class="btn-primary mt-4">Save Solution</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('solution')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Enhance your solution description with AI.</p>
                    </div>
                </div>

                <!-- Product Content -->
                <div id="product-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Product Details & Key Features</h3>
                    <textarea id="product-textarea" class="input-field h-48 resize-y" placeholder="Describe your product/service. What are its core features? How does it deliver the solution?"></textarea>
                    <button class="btn-primary mt-4">Save Product Details</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('product')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Generate compelling product features with AI.</p>
                    </div>
                </div>

                <!-- Market Opportunity Content -->
                <div id="market-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Market Opportunity & Size</h3>
                    <textarea id="market-textarea" class="input-field h-48 resize-y" placeholder="Detail your Total Addressable Market (TAM), Serviceable Available Market (SAM), and Serviceable Obtainable Market (SOM). What's the growth potential?"></textarea>
                    <button class="btn-primary mt-4">Save Market Info</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('market')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Analyze market opportunities with AI assistance.</p>
                    </div>
                </div>

                <!-- Revenue Content -->
                <div id="revenue-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Revenue Model & Projections</h3>
                    <textarea id="revenue-textarea" class="input-field h-48 resize-y" placeholder="Explain how your startup will generate revenue (e.g., subscription, transaction fee, ads). Provide initial projections."></textarea>
                    <button class="btn-primary mt-4">Save Revenue Model</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('revenue')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Optimize your revenue model with AI suggestions.</p>
                    </div>
                </div>

                <!-- Traction Content -->
                <div id="traction-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Traction & Milestones</h3>
                    <textarea id="traction-textarea" class="input-field h-48 resize-y" placeholder="What significant progress have you made? (e.g., users, revenue, partnerships, product launches)"></textarea>
                    <button class="btn-primary mt-4">Save Traction</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('traction')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Highlight your traction points with AI.</p>
                    </div>
                </div>

                <!-- Team Content -->
                <div id="team-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Your Team & Expertise</h3>
                    <textarea id="team-textarea" class="input-field h-48 resize-y" placeholder="Introduce your core team members and their relevant experience. Why are you the right team to execute this idea?"></textarea>
                    <button class="btn-primary mt-4">Save Team Info</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('team')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Describe your team's strengths with AI.</p>
                    </div>
                </div>

                <!-- Competition Content -->
                <div id="competition-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Competitive Landscape</h3>
                    <textarea id="competition-textarea" class="input-field h-48 resize-y" placeholder="Who are your competitors? What is your unique competitive advantage?"></textarea>
                    <button class="btn-primary mt-4">Save Competition Info</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('competition')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Analyze your competition with AI insights.</p>
                    </div>
                </div>

                <!-- Ask Content -->
                <div id="ask-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">The Ask & Use of Funds</h3>
                    <textarea id="ask-textarea" class="input-field h-48 resize-y" placeholder="What are you seeking (e.g., funding amount, strategic partners)? How will these resources be utilized to achieve your next milestones?"></textarea>
                    <button class="btn-primary mt-4">Save Ask</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('ask')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Refine your funding ask with AI.</p>
                    </div>
                </div>

                <!-- Vision/Future Content -->
                <div id="vision-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Vision & Future Roadmap</h3>
                    <textarea id="vision-textarea" class="input-field h-48 resize-y" placeholder="What is your long-term vision for the company? What does the next 1-3 year roadmap look like?"></textarea>
                    <button class="btn-primary mt-4">Save Vision</button>
                    <div class="ai-card mt-6" onclick="showAICoPilotModal('vision')">
                        <h3 class="text-2xl font-extrabold">AI Co-Pilot</h3>
                        <p class="text-base">Craft your future vision with AI assistance.</p>
                    </div>
                </div>

                <!-- File Repository Content -->
                <div id="files-content" class="concept-tab-content animate-fly-in hidden" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">File Repository for Your Idea</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 bg-gray-100 rounded-lg shadow-sm">
                            <span class="font-medium text-gray-700">PitchDeck_v3.ppt</span>
                            <div>
                                <button class="text-blue-600 hover:text-blue-800 mr-4" onclick="showMessageModal('Opening File', 'Simulating: Opening PitchDeck_v3.ppt')">View</button>
                                <button class="text-red-600 hover:text-red-800" onclick="showMessageModal('Deleting File', 'Simulating: Deleting PitchDeck_v3.ppt')">Delete</button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-gray-100 rounded-lg shadow-sm">
                            <span class="font-medium text-gray-700">Financial_Model_Q2.xlsx</span>
                            <div>
                                <button class="text-blue-600 hover:text-blue-800 mr-4" onclick="showMessageModal('Opening File', 'Simulating: Opening Financial_Model_Q2.xlsx')">View</button>
                                <button class="text-red-600 hover:text-red-800" onclick="showMessageModal('Deleting File', 'Simulating: Deleting Financial_Model_Q2.xlsx')">Delete</button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-gray-100 rounded-lg shadow-sm">
                            <span class="font-medium text-gray-700">Market_Research_Report.pdf</span>
                            <div>
                                <button class="text-blue-600 hover:text-blue-800 mr-4" onclick="showMessageModal('Opening File', 'Simulating: Opening Market_Research_Report.pdf')">View</button>
                                <button class="text-red-600 hover:text-red-800" onclick="showMessageModal('Deleting File', 'Simulating: Deleting Market_Research_Report.pdf')">Delete</button>
                            </div>
                        </div>
                    </div>
                    <button class="btn-secondary mt-6" onclick="showMessageModal('Upload File', 'Simulating: File upload interface')">
                        <span class="flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg>
                            Upload New File
                        </span>
                    </button>
                </div>
            </div>

            <div class="mt-8 pt-6 border-t border-gray-200 text-center">
                <button class="btn-primary text-xl" onclick="showMessageModal('Generate Pitch Deck', 'Simulating: Generating a Pitch Deck based on your entered data. This would typically compile content from all tabs into a downloadable PDF/PPT format!')">
                    <span class="flex items-center justify-center">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17V7m0 10l-2-2m2 2l2-2m9-5V7m0 10l-2-2m2 2l2-2M9 10a3 3 0 10-6 0v7a3 3 0 106 0V10zm9 0a3 3 10-6 0v7a3 3 0 106 0V10z"></path></svg>
                        Generate Pitch Deck
                    </span>
                </button>
            </div>
        </section>

        <!-- StartupSaathi Growth Score Section -->
        <section id="growth-score" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">StartupSaathi Growth Score</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-6">
                Evaluate your startup's potential for success and identify key areas for improvement using our proprietary analytical models. Our advanced AI/ML models compute, analyze, and provide deep insights into various aspects of your venture.
            </p>

            <div class="p-6 bg-orange-50 border-l-4 border-orange-400 text-orange-800 rounded-lg mb-8 animate-fly-in">
                <p class="font-semibold">Ready to evaluate?</p>
                <p>Click the button below to compute your <span class="font-bold">StartupSaathi Growth Score</span> based on your selected idea and concept builder details.</p>
                <button class="btn-primary mt-4" onclick="renderGrowthScore()">Compute Growth Score</button>
            </div>

            <div id="growth-score-results" class="hidden">
                <h3 class="text-2xl font-bold text-gray-800 mb-4 mt-8 border-b border-gray-200 pb-2">
                    Startup Saathi Internal Assessment Grid: <span id="growth-score-startup-name">[Startup Name]</span>
                </h3>
                <p class="text-xl font-bold text-orange-700 mb-6">
                    Overall Proprietary Score: <span id="overall-proprietary-score">N/A</span>
                </p>

                <div class="overflow-x-auto">
                    <table class="w-full growth-score-table">
                        <thead>
                            <tr>
                                <th class="w-1/4">Category</th>
                                <th class="w-[15%]">Raw Assessment (1-5)</th>
                                <th class="w-[15%]">Normalized Score (Out of 100)</th>
                                <th class="w-[15%]">Score Contribution (Weighted)</th>
                                <th class-="w-[35%]">Key Insights / Rationale</th>
                            </tr>
                        </thead>
                        <tbody id="growth-score-table-body">
                            <!-- Data will be populated here by JavaScript -->
                        </tbody>
                        <tfoot>
                            <tr>
                                <th colspan="3" class="text-right">TOTALS</th>
                                <th id="growth-score-total-contribution">N/A</th>
                                <th>Overall Summary & Strategic Recommendations (Internal Use)</th>
                            </tr>
                            <tr>
                                <td colspan="5" id="overall-ai-summary" class="bg-gray-50 text-gray-700">
                                    <p class="text-gray-500">AI summary and recommendations will appear here after computation.</p>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </section>


        <!-- Company Registration Section -->
        <section id="company-registration" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">Company Registration & Compliance</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-6">
                Streamline your company incorporation and ensure regulatory adherence.
            </p>

            <!-- Company Status Selection -->
            <div class="mb-8 p-6 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-lg animate-fly-in">
                <h3 class="font-semibold text-lg mb-3">Your Company Status:</h3>
                <div class="flex items-center space-x-6">
                    <label class="inline-flex items-center">
                        <input type="radio" name="company-status" value="existing" class="form-radio text-orange-600 h-5 w-5" onchange="toggleCompanyRegistrationOptions()">
                        <span class="ml-2 text-gray-700">I already have a company</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="company-status" value="new" class="form-radio text-orange-600 h-5 w-5" onchange="toggleCompanyRegistrationOptions()" checked>
                        <span class="ml-2 text-gray-700">Help me register a new company</span>
                    </label>
                </div>
            </div>

            <!-- New Company Registration Options (Conditionally Visible) -->
            <div id="new-company-registration-options" class="space-y-6 mb-8">
                <div class="p-6 bg-gray-50 rounded-lg shadow-inner animate-fly-in" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Choose Your Company Type</h3>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-medium mb-2">How would you like to proceed?</label>
                        <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-6">
                            <label class="inline-flex items-center">
                                <input type="radio" name="company-type-selection" value="know-type" class="form-radio text-orange-600 h-5 w-5" onchange="toggleCompanyTypeInput()">
                                <span class="ml-2 text-gray-700">I know the type of company to register</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="company-type-selection" value="seek-help" class="form-radio text-orange-600 h-5 w-5" onchange="toggleCompanyTypeInput()" checked>
                                <span class="ml-2 text-gray-700">I seek your help in suggesting the best type</span>
                            </label>
                        </div>
                    </div>

                    <div id="known-company-type-input" class="mb-4 hidden">
                        <label for="company-type-dropdown" class="block text-gray-700 text-sm font-medium mb-1">Select Company Type:</label>
                        <select id="company-type-dropdown" class="input-field">
                            <option value="">-- Select --</option>
                            <option value="sole-proprietorship">Sole Proprietorship</option>
                            <option value="partnership">Partnership</option>
                            <option value="llp">Limited Liability Partnership (LLP)</option>
                            <option value="pvt-ltd">Private Limited Company</option>
                            <option value="public-ltd">Public Limited Company</option>
                            <option value="opc">One Person Company (OPC)</option>
                        </select>
                    </div>

                    <div id="suggest-company-type-section" class="mb-4">
                        <button class="btn-primary w-full mb-4" onclick="suggestCompanyType()">Suggest Company Type Based on Idea</button>
                        <div id="company-type-suggestion-response" class="bg-gray-100 p-4 rounded-lg text-gray-800 min-h-[80px] overflow-y-auto">
                            <p class="text-gray-500">AI will suggest a company type here based on your selected idea...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <div class="tool-card animate-fly-in" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Company Incorporation</h3>
                    <p class="text-sm text-gray-700 mb-4">Register your Pvt Ltd, LLP, or OPC with ease.</p>
                    <button class="btn-primary" onclick="showMessageModal('Company Incorporation', 'Simulating: Company Incorporation Workflow')">Start Application</button>
                </div>
                <div class="tool-card animate-fly-in" style="animation-delay: 0.2s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">DPIIT & MSME Registration</h3>
                    <p class="text-sm text-gray-700 mb-4">Get recognized by the Government of India.</p>
                    <button class="btn-primary" onclick="showMessageModal('DPIIT & MSME Registration', 'Simulating: DPIIT/MSME Registration Workflow')">Apply Now</button>
                </div>
                <div class="tool-card animate-fly-in" style="animation-delay: 0.3s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Bank Account Setup</h3>
                    <p class="text-sm text-gray-700 mb-4">Assistance for opening your corporate bank account.</p>
                    <button class="btn-primary" onclick="showMessageModal('Bank Account Setup', 'Simulating: Bank Account Setup Assistance')">Get Help</button>
                </div>
                <div class="tool-card animate-fly-in" style="animation-delay: 0.4s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">ROC Filing & Compliance</h3>
                    <p class="text-sm text-gray-700 mb-4">Manage your Registrar of Companies filings.</p>
                    <button class="btn-primary" onclick="showMessageModal('ROC Filing & Compliance', 'Simulating: ROC Filing Dashboard')">View Dashboard</button>
                </div>
            </div>

            <!-- Templates and Agreements Card -->
            <div class="tool-card animate-fly-in" style="animation-delay: 0.5s;" onclick="showTemplatesAndAgreementsModal()">
                <div class="text-6xl text-purple-500 mb-4">ðŸ“„</div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Templates and Agreements</h3>
                <p class="text-sm text-gray-700 mb-4">Access essential legal documents and drafts.</p>
                <button class="btn-primary">View All Templates</button>
            </div>
        </section>

        <!-- IP & Branding Section -->
        <section id="ip-branding" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">IP & Branding: Secure Your Identity</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-6">
                Ensure your startup's name, brand, and domain are unique and protected.
            </p>

            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <div class="tool-card animate-fly-in" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Name & Trademark Check</h3>
                    <p class="text-sm text-gray-700 mb-4">Verify availability instantly and initiate filing.</p>
                    <div class="w-full mb-4">
                        <input type="text" id="trademark-name" class="input-field" placeholder="Enter proposed name/trademark">
                    </div>
                    <button class="btn-primary" onclick="checkAvailability('trademark-name', 'trademark-result')">Check Now</button>
                    <p id="trademark-result" class="mt-4 text-lg font-semibold"></p>
                </div>
                <div class="tool-card animate-fly-in" style="animation-delay: 0.2s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Domain Name Check</h3>
                    <p class="text-sm text-gray-700 mb-4">Find available domain names for your startup.</p>
                    <div class="w-full mb-4">
                        <input type="text" id="domain-name" class="input-field" placeholder="Enter desired domain name">
                    </div>
                    <button class="btn-primary" onclick="checkAvailability('domain-name', 'domain-result')">Check Now</button>
                    <p id="domain-result" class="mt-4 text-lg font-semibold"></p>
                </div>
            </div>

            <h3 class="text-2xl font-bold text-gray-800 mb-4 mt-8 border-b border-gray-200 pb-2">IP & Branding Templates</h3>
            <ul class="list-disc list-inside text-lg text-gray-700 space-y-2">
                <li>
                    <a href="#" class="text-blue-600 hover:underline" onclick="showTemplateModal(event, 'NOC for Trademark Filing', `
                        <h4 class='text-lg font-bold text-gray-800 mb-2'>No Objection Certificate (NOC) for Trademark Filing</h4>
                        <p class='mb-2'>Required when the trademark applicant is not the actual owner of the mark, or when using a logo/name designed by another entity.</p>
                        <pre class='bg-gray-100 p-3 rounded-md text-sm mt-3 overflow-auto'><code>
// Example NOC for Trademark Filing
NO OBJECTION CERTIFICATE

Date: [DATE]

To,
The Registrar of Trademarks,
Intellectual Property India,
[Address]

Subject: No Objection Certificate for the use and registration of the Trademark "[TRADEMARK NAME/LOGO]"

Dear Sir/Madam,

I/We, [YOUR NAME/COMPANY NAME], [Address], hereby state that I/We have no objection to [APPLICANT NAME/COMPANY NAME], [Applicant Address], using and registering the Trademark "[TRADEMARK NAME/LOGO]" (Class No. [CLASS NUMBER]) in India.

I/We further confirm that I/We have no ownership rights, claims, or interests over the said Trademark.

Yours faithfully,

[SIGNATURE]
[YOUR NAME/COMPANY NAME]
                        </code></pre>
                    `)">
                        NOC for Trademark Filing
                    </a>
                </li>
                <li>
                    <a href="#" class="text-blue-600 hover:underline" onclick="showTemplateModal(event, 'TM-1 Application Draft', `
                        <h4 class='text-lg font-bold text-gray-800 mb-2'>TM-1 Application Draft (for lawyer-assisted submission)</h4>
                        <p class='mb-2'>The primary form for applying for a new trademark registration in India. While this is a draft, actual filing requires professional assistance.</p>
                        <pre class='bg-gray-100 p-3 rounded-md text-sm mt-3 overflow-auto'><code>
// Example TM-1 Application Draft Snippet (Simplified)
FORM TM-1
(THE TRADE MARKS ACT, 1999)
Application for registration of a trademark for goods or services.

1. Name of the Applicant: [YOUR NAME/COMPANY NAME]
2. Address of the Applicant: [YOUR ADDRESS]
3. Nationality/Country of incorporation: Indian
4. Description of Goods/Services: [e.g., Software development, retail services, etc.]
5. Class Number: [e.g., 9 for software, 35 for business services]
6. Trademark/Label: [Insert Mark / Description of Mark / Attach JPG image of mark]
7. Date of user of the trademark: [Date from which you started using the mark, or 'Proposed to be Used']

Signature of the Applicant / Agent
[DATE]
                        </code></pre>
                    `)">
                        TM-1 application draft (for lawyer-assisted submission)
                    </a>
                </li>
                <li>
                    <a href="#" class="text-blue-600 hover:underline" onclick="showTemplateModal(event, 'IP Assignment Agreement', `
                        <h4 class='text-lg font-bold text-gray-800 mb-2'>Intellectual Property (IP) Assignment Agreement</h4>
                        <p class='mb-2'>Used to legally transfer ownership of intellectual property rights (like copyrights, patents, trademarks) from one party to another.</p>
                        <pre class='bg-gray-100 p-3 rounded-md text-sm mt-3 overflow-auto'><code>
// Example IP Assignment Agreement Snippet
INTELLECTUAL PROPERTY ASSIGNMENT AGREEMENT

This Intellectual Property Assignment Agreement (this "Agreement") is made and entered into on this [DATE],

BETWEEN:

[ASSIGNOR NAME/COMPANY NAME], a [TYPE OF ENTITY] having its [ADDRESS] (hereinafter referred to as the "Assignor", which expression shall unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns);

AND

[ASSIGNEE NAME/COMPANY NAME], a [TYPE OF ENTITY] having its [ADDRESS] (hereinafter referred to as the "Assignee", which expression shall unless repugnant to the context or meaning thereof, be deemed to include its successors and assigns).

WHEREAS:
A. The Assignor is the sole and exclusive owner of the Intellectual Property described in Schedule A hereto (the "Intellectual Property").
B. The Assignor desires to assign, and the Assignee desires to acquire, all right, title, and interest in and to the Intellectual Property.

NOW, THEREFORE, in consideration of the mutual covenants and agreements contained herein, the parties agree as follows:

1. ASSIGNMENT OF INTELLECTUAL PROPERTY
   The Assignor hereby irrevocably assigns, transfers, and conveys to the Assignee, absolutely and forever, all right, title, and interest in and to the Intellectual Property, including but not limited to all copyrights, trademarks, trade secrets, patents, and all applications thereof, and all goodwill associated therewith.

... (Further clauses on consideration, warranties, etc.)

IN WITNESS WHEREOF, the parties have executed this Agreement as of the date first above written.

[SIGNATURES OF ASSIGNOR AND ASSIGNEE]

SCHEDULE A
Description of Intellectual Property:
- [e.g., Software source code for "X App"]
- [e.g., Trademark "Y" (Application No. Z)]
- [e.g., Copyright in "Marketing Brochure"]
                        </code></pre>
                    `)">
                        IP Assignment Agreement
                    </a>
                </li>
            </ul>
        </section>

        <!-- Equity & Dilution Simulator Section -->
        <section id="equity-simulator" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">Equity & Dilution Simulator</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-6">
                Model your company's equity structure, simulate fundraising rounds, and understand dilution.
            </p>

            <div class="grid md:grid-cols-2 gap-8">
                <div class="animate-fly-in" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Current Equity Structure</h3>
                    <div class="mb-4">
                        <label for="founder-shares" class="block text-gray-700 text-sm font-medium mb-1">Total Founder Shares: <span id="founder-shares-val" class="font-semibold text-orange-700">800,000</span></label>
                        <input type="range" id="founder-shares" class="input-field" value="800000" min="0" max="2000000" step="50000" oninput="updateSliderValue('founder-shares', 'founder-shares-val')">
                    </div>
                    <div class="mb-4">
                        <label for="existing-investor-shares" class="block text-gray-700 text-sm font-medium mb-1">Total Existing Investor Shares: <span id="existing-investor-shares-val" class="font-semibold text-orange-700">0</span></label>
                        <input type="range" id="existing-investor-shares" class="input-field" value="0" min="0" max="1000000" step="50000" oninput="updateSliderValue('existing-investor-shares', 'existing-investor-shares-val')">
                    </div>
                    <div class="mb-4">
                        <label for="esop-pool-shares" class="block text-gray-700 text-sm font-medium mb-1">ESOP Pool Shares (current/planned): <span id="esop-pool-shares-val" class="font-semibold text-orange-700">200,000</span></label>
                        <input type="range" id="esop-pool-shares" class="input-field" value="200000" min="0" max="500000" step="10000" oninput="updateSliderValue('esop-pool-shares', 'esop-pool-shares-val')">
                    </div>
                    <div class="mb-4">
                        <label for="current-valuation" class="block text-gray-700 text-sm font-medium mb-1">Current Pre-Money Valuation (â‚¹): <span id="current-valuation-val" class="font-semibold text-orange-700">10 Crore</span></label>
                        <input type="range" id="current-valuation" class="input-field" value="100000000" min="10000000" max="500000000" step="10000000" oninput="updateSliderValue('current-valuation', 'current-valuation-val', 'currency')">
                        <p class="text-xs text-gray-500 mt-1">Represents your current valuation for the purpose of this simulation.</p>
                    </div>
                </div>

                <div class="animate-fly-in" style="animation-delay: 0.2s;">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Simulate Funding Round</h3>
                    <div class="mb-4">
                        <label for="investment-amount" class="block text-gray-700 text-sm font-medium mb-1">Investment Amount Seeking (â‚¹): <span id="investment-amount-val" class="font-semibold text-orange-700">2 Crore</span></label>
                        <input type="range" id="investment-amount" class="input-field" value="20000000" min="1000000" max="100000000" step="1000000" oninput="updateSliderValue('investment-amount', 'investment-amount-val', 'currency')">
                    </div>
                    <div class="mb-4">
                        <label for="valuation-basis" class="block text-gray-700 text-sm font-medium mb-1">Valuation Basis:</label>
                        <select id="valuation-basis" class="input-field" onchange="toggleValuationBasisInputs()">
                            <option value="fixed">Fixed Pre-Money Valuation (as above)</option>
                            <option value="revenue">Annual Revenue</option>
                            <option value="profit">Annual Profit</option>
                            <option value="users">Annual Active Users</option>
                        </select>
                    </div>

                    <div id="dynamic-valuation-inputs" class="space-y-4 mt-4 hidden">
                           <div id="revenue-input-group">
                                <label for="annual-revenue" class="block text-gray-700 text-sm font-medium mb-1">Annual Revenue (â‚¹):</label>
                                <input type="number" id="annual-revenue" class="input-field" placeholder="e.g., 5000000">
                            </div>
                            <div id="profit-input-group" class="hidden">
                                <label for="annual-profit" class="block text-gray-700 text-sm font-medium mb-1">Annual Profit (â‚¹):</label>
                                <input type="number" id="annual-profit" class="input-field" placeholder="e.g., 1000000">
                            </div>
                            <div id="users-input-group" class="hidden">
                                <label for="annual-users" class="block text-gray-700 text-sm font-medium mb-1">Annual Active Users:</label>
                                <input type="number" id="annual-users" class="input-field" placeholder="e.g., 100000">
                            </div>
                            <div class="p-3 bg-gray-100 rounded-md">
                                <p class="text-sm text-gray-700">Calculated Industry Multiple: <span id="industry-multiple" class="font-semibold text-teal-700">N/A</span></p>
                            </div>
                    </div>

                    <button class="btn-primary mt-6" onclick="simulateEquity()">Run Simulation</button>

                    <div class="mt-8 p-4 bg-gray-100 rounded-lg shadow-inner">
                        <h4 class="text-lg font-bold text-gray-800 mb-2">Simulation Results:</h4>
                        <p class="text-sm text-gray-700 mb-2">Post-Money Valuation: <span id="post-money-val" class="font-semibold text-green-700">â‚¹0</span></p>
                        <p class="text-sm text-gray-700 mb-2">Total Shares Post-Round: <span id="total-shares-post" class="font-semibold text-orange-700">0</span></p>
                        <p class="text-sm text-gray-700 mb-2">Founder's New Equity: <span id="founder-equity-new" class="font-semibold text-blue-700">0%</span></p>
                        <p class="text-sm text-gray-700 mb-2">Founder Dilution: <span id="founder-dilution" class="font-semibold text-red-700">0%</span></p>
                        <p class="text-sm text-gray-700 mb-2">Investor's Equity: <span id="investor-equity" class="font-semibold text-teal-700">0%</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Government Funding Section -->
        <section id="govt-funding" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">Government Funding Schemes</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-6">
                Explore various government grants and schemes available for Indian startups.
            </p>

            <div class="mb-6 flex flex-wrap items-center gap-4">
                <span class="font-semibold text-gray-700">Filter by Stage/Sector:</span>
                <button class="px-4 py-2 rounded-full bg-orange-100 text-orange-700 text-sm font-medium hover:bg-orange-200">All</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">Seed Stage</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">DeepTech</button>
                <button class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200">Women-led</button>
            </div>

            <div class="space-y-6">
                <div class="p-6 bg-blue-50 rounded-lg shadow-sm animate-fly-in" style="animation-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-blue-700 mb-2">Startup India Seed Fund Scheme (SISFS)</h3>
                    <p class="text-base text-gray-700 mb-3">Provides financial assistance to startups for proof of concept, prototype development, product trials, market entry, and commercialization.</p>
                    <ul class="list-disc list-inside text-sm text-gray-600 ml-4">
                        <li>Up to â‚¹20 Lakhs for PoC/Prototype</li>
                        <li>Up to â‚¹50 Lakhs for convertible debentures/debt for market entry</li>
                    </ul>
                    <button class="btn-primary text-sm mt-4" onclick="showMessageModal('SISFS Application', 'Simulating: SISFS Application details')">Learn More</button>
                </div>
                <div class="p-6 bg-green-50 rounded-lg shadow-sm animate-fly-in" style="animation-delay: 0.2s;">
                    <h3 class="text-xl font-bold text-green-700 mb-2">SIDBI Fund of Funds for Startups (FFS)</h3>
                    <p class="text-base text-gray-700 mb-3">A fund of funds scheme managed by SIDBI, investing in SEBI-registered Alternative Investment Funds (AIFs) which then invest in startups.</p>
                    <ul class="list-disc list-inside text-sm text-gray-600 ml-4">
                        <li>Indirect funding channel</li>
                        <li>Aims to support venture capital funds</li>
                    </ul>
                    <button class="btn-primary text-sm mt-4" onclick="showMessageModal('SIDBI FFS', 'Simulating: SIDBI Fund of Funds for Startups details')">Learn More</button>
                </div>
                <div class="p-6 bg-orange-50 rounded-lg shadow-sm animate-fly-in" style="animation-delay: 0.3s;">
                    <h3 class="text-xl font-bold text-orange-700 mb-2">MeitY Startup Hub (MSH)</h3>
                    <p class="text-base text-gray-700 mb-3">An initiative by the Ministry of Electronics and Information Technology to build a robust innovation ecosystem.</p>
                    <ul class="list-disc list-inside text-sm text-gray-600 ml-4">
                        <li>Focus on IT/Electronics startups</li>
                        <li>Various schemes and support programs</li>
                    </ul>
                    <button class="btn-primary text-sm mt-4" onclick="showMessageModal('MeitY Startup Hub', 'Simulating: MeitY Startup Hub details')">Learn More</button>
                </div>
            </div>
        </section>

        <!-- Investor Connect Section -->
        <section id="investor-connect" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">Investor Connect: Find Your Funding Partner</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-6">
                Connect with Angel Investors and Venture Capitalists aligned with your startup's vision.
            </p>

            <div class="max-w-xl mx-auto p-6 bg-gray-50 rounded-lg shadow-inner animate-fly-in" style="animation-delay: 0.1s;">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Tell us about your startup:</h3>
                <div class="mb-4">
                    <label for="ic-startup-stage" class="block text-gray-700 text-sm font-medium mb-1">Funding Stage:</label>
                    <select id="ic-startup-stage" class="input-field">
                        <option>Ideation</option>
                        <option>Proof of Concept</option>
                        <option>Seed</option>
                        <option>Pre-Series A</option>
                        <option>Series A</option>
                        <option>Growth Stage</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label for="ic-startup-sector" class="block text-gray-700 text-sm font-medium mb-1">Primary Sector:</label>
                    <input type="text" id="ic-startup-sector" class="input-field" placeholder="e.g., FinTech, SaaS, Healthcare">
                </div>
                <div class="mb-6">
                    <label for="ic-investment-seeking" class="block text-gray-700 text-sm font-medium mb-1">Investment Amount Seeking (â‚¹):</label>
                    <input type="number" id="ic-investment-seeking" class="input-field" placeholder="e.g., 5000000">
                </div>
                <button class="btn-primary w-full" onclick="findInvestors()">Find Investors</button>
            </div>

            <div id="investor-match-results" class="mt-8 hidden animate-fly-in" style="animation-delay: 0.3s;">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Potential Investor Matches:</h3>
                <div class="space-y-4">
                    <div class="p-4 bg-orange-50 rounded-lg shadow-sm">
                        <h4 class="text-lg font-bold text-orange-700">Mumbai Angels Network</h4>
                        <p class="text-sm text-gray-700">Focus: Early-stage startups across sectors. Investment Range: â‚¹50 Lakhs - â‚¹5 Crores.</p>
                        <button class="btn-secondary text-sm mt-2" onclick="showMessageModal('Connect with Investor', 'Simulating: Initiate connection with Mumbai Angels')">Connect</button>
                    </div>
                    <div class="p-4 bg-orange-50 rounded-lg shadow-sm">
                        <h4 class="text-lg font-bold text-orange-700">Sequoia Capital India (Surge)</h4>
                        <p class="text-sm text-gray-700">Focus: Pre-Seed to Series A, various sectors. Program-based approach.</p>
                        <button class="btn-secondary text-sm mt-2" onclick="showMessageModal('Connect with Investor', 'Simulating: Initiate connection with Sequoia Capital India (Surge)')">Connect</button>
                    </div>
                    <div class="p-4 bg-orange-50 rounded-lg shadow-sm">
                        <h4 class="text-lg font-bold text-orange-700">Blume Ventures</h4>
                        <p class="text-sm text-gray-700">Focus: Seed to Pre-Series A, diverse portfolio including SaaS, FinTech.</p>
                        <button class="btn-secondary text-sm mt-2" onclick="showMessageModal('Connect with Investor', 'Simulating: Initiate connection with Blume Ventures')">Connect</button>
                    </div>
                </div>
                <p class="text-sm text-gray-600 mt-4">These are illustrative matches. Actual matching will be based on detailed criteria.</p>
            </div>
        </section>

        <!-- Pricing Plans Section -->
        <section id="pricing-plans" class="portal-section bg-white p-8 rounded-xl shadow-md mb-8 min-h-[calc(100vh-64px)]">
            <h2 class="text-3xl font-extrabold text-gray-800 mb-6 border-b-2 border-orange-500 pb-2">Our Pricing Plans: Choose Your Fit</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-8">
                Select the plan that aligns with your startup's needs and growth stage.
            </p>

            <div class="grid md:grid-cols-3 gap-6">
                <!-- Pricing Card: Freemium -->
                <div class="tool-card animate-fly-in" style="animation-delay: 0.1s;">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Freemium</h3>
                    <p class="text-4xl font-extrabold text-orange-600 mb-4">â‚¹0</p>
                    <p class="text-sm text-gray-600 mb-6">Explore essential resources to kickstart your journey.</p>
                    <ul class="list-disc list-inside text-left text-gray-700 text-base flex-grow space-y-2">
                        <li>Basic Company Name Checks</li>
                        <li>Sample Legal Documents</li>
                        <li>Startup Guide & Checklists</li>
                        <li>Access to Community Forum</li>
                    </ul>
                    <button class="mt-6 px-6 py-3 bg-orange-100 text-orange-700 font-semibold rounded-lg hover:bg-orange-200 transition-colors" onclick="showMessageModal('Freemium Plan', 'You have selected the Freemium plan.')">Start for Free</button>
                </div>

                <!-- Pricing Card: Standard -->
                <div class="tool-card animate-fly-in" style="animation-delay: 0.2s;">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Standard</h3>
                    <p class="text-4xl font-extrabold text-orange-600 mb-4">â‚¹2,499<span class="text-xl font-normal">/month</span></p>
                    <p class="text-sm text-gray-600 mb-6">Automate compliance and access essential operational tools.</p>
                    <ul class="list-disc list-inside text-left text-gray-700 text-base flex-grow space-y-2">
                        <li>Everything in Freemium</li>
                        <li>Automated Compliance Calendar</li>
                        <li>Filing Alerts (GST, PF, ROC, ITR)</li>
                        <li>Comprehensive Document Templates</li>
                        <li>Basic IP Checks & Suggestions</li>
                        <li>Dedicated Email Support</li>
                    </ul>
                    <button class="mt-6 px-6 py-3 bg-orange-600 text-white font-semibold rounded-lg hover:bg-orange-700 transition-colors" onclick="showMessageModal('Standard Plan', 'You have selected the Standard plan.')">Choose Standard</button>
                </div>

                <!-- Pricing Card: Premium -->
                <div class="tool-card animate-fly-in" style="animation-delay: 0.3s;">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Premium</h3>
                    <p class="text-4xl font-extrabold text-orange-600 mb-4">â‚¹5,999<span class="text-xl font-normal">/month</span></p>
                    <p class="text-sm text-gray-600 mb-6">Full-service support for setup, compliance, and initial growth.</p>
                    <ul class="list-disc list-inside text-left text-gray-700 text-base flex-grow space-y-2">
                        <li>Everything in Standard</li>
                        <li>Company Incorporation Service</li>
                        <li>PAN/TAN & GST Registration</li>
                        <li>Trademark Filing Assistance</li>
                        <li>Basic Bookkeeping & TDS Filing</li>
                        <li>Priority Chat Support</li>
                        <li>Access to Mentorship Network</li>
                    </ul>
                    <button class="mt-6 px-6 py-3 bg-orange-600 text-white font-semibold rounded-lg hover:bg-orange-700 transition-colors" onclick="showMessageModal('Premium Plan', 'You have selected the Premium plan.')">Choose Premium</button>
                </div>
            </div>

            <div class="mt-10 text-center animate-fly-in" style="animation-delay: 0.4s;">
                <h3 class="text-xl font-bold text-gray-800 mb-2">Custom Solutions for Advanced Needs</h3>
                <p class="text-lg text-gray-700">
                    For specific advisory, multi-entity handling, in-depth funding strategy, or customized support,
                    <a href="#" class="text-orange-600 hover:underline" onclick="showMessageModal('Contact Sales', 'Simulating: Contact Sales form/page')">contact our sales team</a> for a tailored plan.
                </p>
            </div>
        </section>
    </main>

    <!-- Template/Message Modal Structure -->
    <div id="template-modal" class="custom-modal-backdrop hidden">
        <div class="custom-modal-content">
            <button class="absolute top-3 right-3 text-gray-500 hover:text-gray-800" onclick="hideTemplateModal()">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h3 id="template-modal-title" class="text-2xl font-bold text-black mb-4 pb-2 border-b border-orange-300"></h3>
            <div id="template-modal-content" class="prose max-w-none text-gray-700">
                <!-- Content loaded here -->
            </div>
            <div class="mt-6 text-right" id="template-modal-actions">
                <button class="btn-secondary text-sm" onclick="hideTemplateModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- AI Sparker Modal Structure -->
    <div id="ai-sparker-modal" class="custom-modal-backdrop hidden">
        <div class="custom-modal-content">
            <button class="absolute top-3 right-3 text-gray-500 hover:text-gray-800" onclick="hideIdeaSparkerModal()">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h3 class="text-2xl font-bold text-black mb-4 pb-2 border-b border-orange-300">AI Idea Sparker</h3>
            <div class="mb-4">
                <label for="idea-sparker-prompt" class="block text-gray-700 text-sm font-medium mb-1">Enter your interests or keywords:</label>
                <textarea id="idea-sparker-prompt" class="input-field h-24 resize-y" placeholder="e.g., sustainable fashion, AI in healthcare, local tourism, educational games for kids"></textarea>
            </div>
            <button class="btn-primary w-full mb-4" onclick="generateIdea()">Generate Idea</button>
            <div id="idea-sparker-response" class="bg-gray-100 p-4 rounded-lg text-gray-800 min-h-[100px] overflow-y-auto">
                <p class="text-gray-500">Your AI-generated idea will appear here...</p>
            </div>
            <div class="mt-6 text-right">
                <button class="btn-secondary text-sm mr-2" onclick="hideIdeaSparkerModal()">Close</button>
                <button class="btn-primary text-sm" id="select-sparked-idea-btn" disabled onclick="selectSparkedIdea()">Select This Idea</button>
            </div>
        </div>
    </div>

    <!-- AI Co-Pilot Modal Structure -->
    <div id="ai-copilot-modal" class="custom-modal-backdrop hidden">
        <div class="custom-modal-content">
            <button class="absolute top-3 right-3 text-gray-500 hover:text-gray-800" onclick="hideAICoPilotModal()">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h3 id="ai-copilot-title" class="text-2xl font-bold text-black mb-4 pb-2 border-b border-orange-300">AI Co-Pilot: Enhance [Tab Name]</h3>
            <div class="mb-4">
                <label for="ai-copilot-input" class="block text-gray-700 text-sm font-medium mb-1">Current content:</label>
                <textarea id="ai-copilot-input" class="input-field h-32 resize-y" readonly></textarea>
            </div>
            <div class="mb-4">
                <label for="ai-copilot-prompt" class="block text-gray-700 text-sm font-medium mb-1">How can AI help you? (e.g., "make it more concise", "add market statistics", "suggest key features")</label>
                <textarea id="ai-copilot-prompt" class="input-field h-24 resize-y" placeholder="Describe how you want to enhance this content..."></textarea>
            </div>
            <button class="btn-primary w-full mb-4" onclick="enhanceContent()">Enhance with AI</button>
            <div id="ai-copilot-response" class="bg-gray-100 p-4 rounded-lg text-gray-800 min-h-[100px] overflow-y-auto">
                <p class="text-gray-500">AI-enhanced content will appear here...</p>
            </div>
            <div class="mt-6 text-right">
                <button class="btn-secondary text-sm mr-2" onclick="hideAICoPilotModal()">Close</button>
                <button class="btn-primary text-sm" id="apply-ai-enhancement-btn" onclick="applyAICoPilotEnhancement()" disabled>Apply Enhancement</button>
            </div>
        </div>
    </div>

    <!-- Templates and Agreements Modal Structure -->
    <div id="templates-agreements-modal" class="custom-modal-backdrop hidden">
        <div class="custom-modal-content max-w-2xl">
            <button class="absolute top-3 right-3 text-gray-500 hover:text-gray-800" onclick="hideTemplatesAndAgreementsModal()">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h3 class="text-2xl font-bold text-black mb-4 pb-2 border-b border-orange-300">Templates and Agreements Library</h3>
            <div id="templates-agreements-content" class="prose max-w-none text-gray-700">
                <!-- Templates will be loaded here dynamically -->
                <h4 class='text-lg font-bold text-gray-800 mb-2'>Memorandum of Association (MoA) & Articles of Association (AoA) Drafts</h4>
                <p class='mb-2'>These are fundamental documents for company incorporation:</p>
                <p class='font-semibold'>Memorandum of Association (MoA):</p>
                <p>Defines the company's fundamental conditions upon which it is incorporated. It includes:</p>
                <ul class='list-disc list-inside ml-4'>
                    <li>Company Name</li>
                    <li>Registered Office State</li>
                    <li>Objects Clause (main business activities)</li>
                    <li>Liability Clause (limited liability)</li>
                    <li>Capital Clause (authorized share capital)</li>
                </ul>
                <pre class='bg-gray-100 p-3 rounded-md text-sm mt-3 overflow-auto'><code>
// Example Snippet for MoA
MEMORANDUM OF ASSOCIATION
OF
[COMPANY NAME] PRIVATE LIMITED

1. The Name of the Company is "[COMPANY NAME] PRIVATE LIMITED".
2. The Registered Office of the Company will be situated in the State of [STATE, E.g., Karnataka].
3. The objects for which the Company is established are:
   (a) To carry on the business of [PRIMARY BUSINESS ACTIVITY]...
                </code></pre>

                <p class='font-semibold mt-4'>Articles of Association (AoA):</p>
                <p>Specifies the rules and regulations for the internal management of the company. Covers aspects like:</p>
                <ul class='list-disc list-inside ml-4'>
                    <li>Share Capital & Voting Rights</li>
                    <li>Appointment & Powers of Directors</li>
                    <li>Conduct of Company Meetings</li>
                    <li>Dividend Distribution</li>
                    <li>Transfer of Shares</li>
                </ul>
                <pre class='bg-gray-100 p-3 rounded-md text-sm mt-3 overflow-auto'><code>
// Example Snippet for AoA
ARTICLES OF ASSOCIATION
OF
[COMPANY NAME] PRIVATE LIMITED

1. SHARE CAPITAL
   The share capital of the company is INR [Amount] divided into [Number] equity shares of INR [Value] each.

2. GENERAL MEETINGS
   All general meetings other than annual general meetings shall be called extraordinary general meetings.
   Notice of every general meeting shall be given to every member of the company.
                </code></pre>

                <h4 class='text-lg font-bold text-gray-800 mb-2 mt-6'>Board Resolution Formats</h4>
                <p class='mb-2'>Formal records of decisions made by the company's Board of Directors. Essential for various corporate actions.</p>
                <pre class='bg-gray-100 p-3 rounded-md text-sm mt-3 overflow-auto'><code>
// Example Board Resolution for Opening a Bank Account
CERTIFIED TRUE COPY OF THE BOARD RESOLUTION OF [COMPANY NAME] PRIVATE LIMITED
HELD ON [DATE] AT [TIME] AT [REGISTERED OFFICE ADDRESS]

"RESOLVED THAT a current bank account be opened in the name of [COMPANY NAME] PRIVATE LIMITED with [BANK NAME], [BRANCH NAME], and that the following directors are hereby authorized to operate the said account jointly / severally."

"RESOLVED FURTHER THAT a copy of this resolution duly certified by any of the directors of the Company be forwarded to the said Bank."

For [COMPANY NAME] PRIVATE LIMITED
[SIGNATURE]
[DIRECTOR NAME]
Director
DIN: [DIRECTOR DIN]
                </code></pre>

                <h4 class='text-lg font-bold text-gray-800 mb-2 mt-6'>Director Consent Letters (DIR-2)</h4>
                <p class='mb-2'>Form DIR-2 is a declaration from an individual that they consent to act as a Director of a company.</p>
                <pre class='bg-gray-100 p-3 rounded-md text-sm mt-3 overflow-auto'><code>
// Example Director Consent Letter (DIR-2)
[DATE]

To,
The Board of Directors,
[COMPANY NAME] Private Limited
[REGISTERED OFFICE ADDRESS]

Sub: Consent to act as Director

I, [YOUR FULL NAME], Son/Daughter/Wife of [FATHER'S/HUSBAND'S NAME], residing at [YOUR RESIDENTIAL ADDRESS], having DIN: [YOUR DIN], hereby give my consent to act as the Director of [COMPANY NAME] Private Limited pursuant to Section 152(5) of the Companies Act, 2013 and the rules made thereunder.

I also hereby state that I am not disqualified to become a Director under the Companies Act, 2013.

Thanking you,

Yours faithfully,

[YOUR SIGNATURE]
[YOUR FULL NAME]
DIN: [YOUR DIN]
                </code></pre>

                <h4 class='text-lg font-bold text-gray-800 mb-2 mt-6'>Subscriber Sheet Format</h4>
                <p class='mb-2'>A document signed by the initial subscribers to the Memorandum of Association, indicating their agreement to subscribe to the shares of the company.</p>
                <pre class='bg-gray-100 p-3 rounded-md text-sm mt-3 overflow-auto'><code>
// Example Subscriber Sheet Format
SUBSCRIBERS TO THE MEMORANDUM OF ASSOCIATION

We, the several persons whose names, addresses, and descriptions are hereunto subscribed, are desirous of being formed into a Company in pursuance of this Memorandum of Association, and we respectively agree to take the number of shares in the capital of the Company set opposite our respective names:

---------------------------------------------------------------------------------------------------------------------------------------------------
| S. No. | Name, Father's Name, Residential Address, Nationality, Occupation | No. of Equity Shares taken by each Subscriber | Signature of Subscriber |
---------------------------------------------------------------------------------------------------------------------------------------------------
| 1.     | [Subscriber 1 Name] S/o [Father's Name]                               | [Number]                                      | [Signature]             |
|        | [Address], Indian, [Occupation]                                     |                                               |                         |
---------------------------------------------------------------------------------------------------------------------------------------------------
| 2.     | [Subscriber 2 Name] S/o [Father's Name]                               | [Number]                                      | [Signature]             |
|        | [Address], Indian, [Occupation]                                     |                                               |                         |
---------------------------------------------------------------------------------------------------------------------------------------------------

Dated this [DAY] day of [MONTH], [YEAR]

Witness to the above Signatures:
[Witness Name]
[Witness Address]
[Witness Occupation]
                </code></pre>

                <h4 class='text-lg font-bold text-gray-800 mb-2 mt-6'>Founders Agreement</h4>
                <p class='mb-2'>A critical legal document signed by co-founders, outlining their roles, responsibilities, equity ownership, vesting schedules, intellectual property rights, and exit clauses. Essential for preventing future disputes.</p>
                <pre class='bg-gray-100 p-3 rounded-md text-sm mt-3 overflow-auto'><code>
// Example Founders Agreement Snippet (Simplified)
FOUNDERS AGREEMENT

This Founders Agreement ("Agreement") is made and entered into on this [DATE],

BETWEEN:

1. [FOUNDER 1 NAME], residing at [ADDRESS] (hereinafter referred to as "Founder 1");
AND
2. [FOUNDER 2 NAME], residing at [ADDRESS] (hereinafter referred to as "Founder 2");
(collectively referred to as the "Founders")

WHEREAS, the Founders intend to establish a company tentatively named "[PROPOSED COMPANY NAME]" (the "Company") to engage in the business of [BUSINESS DESCRIPTION].

1. EQUITY OWNERSHIP: The Founders agree that their respective equity ownership in the Company shall be:
   - Founder 1: [PERCENTAGE]%
   - Founder 2: [PERCENTAGE]%

2. VESTING: All shares of the Founders shall be subject to a vesting schedule of [YEARS] years, with a [MONTHS] month cliff, vesting in equal monthly installments thereafter.

3. ROLES AND RESPONSIBILITIES:
   - Founder 1: [Role/Key Responsibilities]
   - Founder 2: [Role/Key Responsibilities]

4. INTELLECTUAL PROPERTY: All intellectual property created by the Founders in connection with the Company shall be owned by the Company.

5. CONFIDENTIALITY: Founders shall maintain strict confidentiality regarding Company's proprietary information.

6. EXIT CLAUSE / BUYBACK: [Outline terms for a founder leaving the company]

... (Further clauses on decision-making, deadlock resolution, non-compete)

IN WITNESS WHEREOF, the parties have executed this Agreement as of the date first above written.

[SIGNATURES OF FOUNDER 1 AND FOUNDER 2]
                </code></pre>
            </div>
            <div class="mt-6 text-right">
                <button class="btn-secondary text-sm" onclick="hideTemplatesAndAgreementsModal()">Close</button>
            </div>
        </div>
    </div>


    <script>
        // Global variable to store the currently selected idea name
        let selectedIdeaName = '';

        // Store team members in an array (simulated state)
        let teamMembers = [
            { name: 'Founder Jane', email: 'jane.founder@example.com', role: 'Admin', accessType: 'all', accessiblePages: [] },
            { name: 'John Doe', email: 'john.doe@example.com', role: 'Product Manager', accessType: 'selected', accessiblePages: ['dashboard', 'idea-marketplace', 'concept-builder'] }
        ];

        // Global variable to store the ID of the textarea being edited by AI Co-Pilot
        let currentAICoPilotTextareaId = '';

        // Define all available pages for access control
        const allPageSections = [
            { id: 'dashboard', name: 'Dashboard' },
            { id: 'team-management', name: 'Team Management' }, // Updated order
            { id: 'idea-marketplace', name: 'Idea Marketplace' },
            { id: 'concept-builder', name: 'Concept Builder' },
            { id: 'growth-score', name: 'Growth Score' }, // New page
            { id: 'company-registration', name: 'Company Registration' },
            { id: 'ip-branding', name: 'IP & Branding' },
            { id: 'equity-simulator', name: 'Equity Simulator' },
            { id: 'govt-funding', name: 'Govt. Funding' },
            { id: 'investor-connect', name: 'Investor Connect' },
            { id: 'pricing-plans', name: 'Pricing Plans' }
        ];

        // --- Core Navigation Logic ---
        function showSection(event, sectionId) {
            if (event) event.preventDefault(); // Prevent default anchor link behavior

            // Hide all sections
            const allSections = document.querySelectorAll('.portal-section');
            allSections.forEach(section => {
                section.style.display = 'none';
                section.classList.remove('active');
                // Remove animation classes from all child elements as well for clean re-animation
                section.querySelectorAll('.animate-fly-in').forEach(el => {
                    el.classList.remove('animate-fly-in');
                    el.style.animationDelay = '';
                });
            });

            // Show the requested section
            const activeSection = document.getElementById(sectionId);
            if (activeSection) {
                activeSection.style.display = 'block';
                activeSection.classList.add('active'); // Add active class to trigger overall section animation
                document.querySelector('main').scrollTop = 0; // Scroll to top of main content

                // Apply staggered animations to elements within the new section
                let delay = 0.1;
                activeSection.querySelectorAll('.animate-fly-in').forEach(item => {
                    item.style.animationDelay = `${delay}s`;
                    delay += 0.1;
                });

                // Special handling for Concept Builder tabs to ensure initial tab is active
                if (sectionId === 'concept-builder') {
                    showConceptTab(null, 'problem'); // Default to problem tab
                    updateConceptBuilderIdeaName(); // Update idea name in heading
                }
                // Special handling for Team Management to render members and page selection
                if (sectionId === 'team-management') {
                    renderTeamMembers();
                    populatePageSelectionCheckboxes();
                }
                // Special handling for Company Registration to update suggestions
                if (sectionId === 'company-registration') {
                    updateRegistrationPage();
                }
                // Special handling for Growth Score to render the table
                if (sectionId === 'growth-score') {
                    // Initial state, user clicks button to compute
                    document.getElementById('growth-score-results').classList.add('hidden');
                }
            }

            // Update active state in top navigation
            document.querySelectorAll('.nav-item').forEach(navItem => {
                navItem.classList.remove('bg-orange-500', 'text-black');
                navItem.classList.add('text-orange-400', 'hover:bg-orange-500', 'hover:text-black');
            });
            const currentNavItem = document.querySelector(`.nav-item[href="#${sectionId}"]`);
            if (currentNavItem) {
                currentNavItem.classList.remove('text-orange-400', 'hover:bg-orange-500', 'hover:text-black');
                currentNavItem.classList.add('bg-orange-500', 'text-black');
            }
        }

        // --- Idea Selection Logic ---
        function handleIdeaSelection(ideaName) {
            selectedIdeaName = ideaName;
            hideIdeaSparkerModal(); // Hide sparker modal if open

            showMessageModal(
                'Idea Selected!',
                `You have selected: <span class="font-bold text-orange-600">${ideaName}</span>. Would you like to proceed to the Concept Builder to develop this idea further?`,
                true, // This is a confirmation
                () => { // Callback function if confirmed
                    showSection(null, 'concept-builder');
                }
            );
        }

        function updateConceptBuilderIdeaName() {
            const ideaNameSpan = document.getElementById('concept-builder-idea-name');
            if (ideaNameSpan) {
                ideaNameSpan.innerText = selectedIdeaName || '[Your Idea Name Here]';
            }
        }

        // --- Custom Modal Logic ---
        let modalCallback = null;

        /**
         * Displays a custom message modal.
         * @param {string} title - The title of the modal.
         * @param {string} content - The HTML content of the modal body.
         * @param {boolean} isConfirm - If true, shows "Cancel" and "Confirm" buttons.
         * @param {function} callback - Function to call on confirmation (if isConfirm is true).
         */
        function showMessageModal(title, content, isConfirm = false, callback = null) {
            const modal = document.getElementById('template-modal');
            document.getElementById('template-modal-title').innerText = title;
            document.getElementById('template-modal-content').innerHTML = content;
            
            const actionsDiv = document.getElementById('template-modal-actions');
            actionsDiv.innerHTML = ''; // Clear previous buttons

            if (isConfirm) {
                modalCallback = callback;
                const cancelButton = document.createElement('button');
                cancelButton.className = 'btn-secondary text-sm mr-2';
                cancelButton.innerText = 'Cancel';
                cancelButton.onclick = hideTemplateModal;
                actionsDiv.appendChild(cancelButton);

                const confirmButton = document.createElement('button');
                confirmButton.className = 'btn-primary text-sm';
                confirmButton.innerText = 'Proceed'; // Changed from Confirm to Proceed for clarity
                confirmButton.onclick = () => {
                    if (modalCallback) {
                        modalCallback();
                    }
                    hideTemplateModal();
                };
                actionsDiv.appendChild(confirmButton);
            } else {
                modalCallback = null;
                const closeButton = document.createElement('button');
                closeButton.className = 'btn-secondary text-sm';
                closeButton.innerText = 'Close';
                closeButton.onclick = hideTemplateModal;
                actionsDiv.appendChild(closeButton);
            }

            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('show'), 10); // Trigger fade-in
        }

        // Re-using the existing template modal for template previews
        function showTemplateModal(event, title, content) {
            event.preventDefault();
            showMessageModal(title, content, false); // Templates are just messages, not confirmations
        }

        function hideTemplateModal() {
            const modal = document.getElementById('template-modal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.classList.add('hidden');
                document.getElementById('template-modal-title').innerText = '';
                document.getElementById('template-modal-content').innerHTML = '';
                document.getElementById('template-modal-actions').innerHTML = '';
                modalCallback = null;
            }, 300); // Allow time for fade-out animation
        }


        // --- IP & Branding: Availability Check Logic ---
        function checkAvailability(inputId, resultId) {
            const name = document.getElementById(inputId).value.trim();
            const resultElement = document.getElementById(resultId);
            if (name === '') {
                resultElement.innerHTML = '<span class="text-red-500">Please enter a name.</span>';
                return;
            }

            // Simulate API call delay
            resultElement.innerHTML = '<span class="text-gray-500">Checking...</span>';
            setTimeout(() => {
                const isAvailable = Math.random() > 0.3; // 70% chance of being available
                if (isAvailable) {
                    resultElement.innerHTML = `<span class="text-green-600">"${name}" is Available! ðŸŽ‰</span>`;
                } else {
                    resultElement.innerHTML = `<span class="text-red-600">"${name}" is Taken. Try another.</span>`;
                }
            }, 1000);
        }

        // --- Equity & Dilution Simulator Logic ---
        // Helper to format currency for display
        function formatCurrency(value) {
            if (value >= 100000000000) return (value / 10000000000).toFixed(0) + 'K Crore'; // Example: 100K Crore
            if (value >= 10000000000) return (value / 1000000000).toFixed(0) + 'K Crore'; // Example: 10K Crore
            if (value >= 10000000) return (value / 10000000).toFixed(0) + ' Crore'; // Example: 10 Crore
            if (value >= 100000) return (value / 100000).toFixed(0) + ' Lakh'; // Example: 10 Lakh
            return value.toLocaleString('en-IN');
        }

        // Helper to update slider value display
        function updateSliderValue(sliderId, displayId, type = 'number') {
            const slider = document.getElementById(sliderId);
            const display = document.getElementById(displayId);
            if (type === 'currency') {
                display.innerText = formatCurrency(parseFloat(slider.value));
            } else {
                display.innerText = parseFloat(slider.value).toLocaleString('en-IN');
            }
        }

        // Dummy Industry Multiples (simplified for simulation)
        const industryMultiples = {
            'revenue': {
                'fintech': 5, 'saas': 8, 'healthtech': 6, 'e-commerce': 3, 'ai/ml': 10, 'default': 5
            },
            'profit': {
                'fintech': 15, 'saas': 25, 'healthtech': 20, 'e-commerce': 10, 'ai/ml': 30, 'default': 15
            },
            'users': {
                // Per active user valuation in Rupees. Highly variable.
                'fintech': 500, 'saas': 300, 'healthtech': 200, 'e-commerce': 100, 'ai/ml': 1000, 'default': 250
            }
        };

        function toggleValuationBasisInputs() {
            const valuationBasis = document.getElementById('valuation-basis').value;
            document.getElementById('dynamic-valuation-inputs').classList.add('hidden');
            document.getElementById('revenue-input-group').classList.add('hidden');
            document.getElementById('profit-input-group').classList.add('hidden');
            document.getElementById('users-input-group').classList.add('hidden');
            document.getElementById('industry-multiple').innerText = 'N/A';

            if (valuationBasis !== 'fixed') {
                document.getElementById('dynamic-valuation-inputs').classList.remove('hidden');
                if (valuationBasis === 'revenue') {
                    document.getElementById('revenue-input-group').classList.remove('hidden');
                    document.getElementById('industry-multiple').innerText = `${industryMultiples.revenue.default}x (Revenue)`;
                } else if (valuationBasis === 'profit') {
                    document.getElementById('profit-input-group').classList.remove('hidden');
                    document.getElementById('industry-multiple').innerText = `${industryMultiples.profit.default}x (Profit)`;
                } else if (valuationBasis === 'users') {
                    document.getElementById('users-input-group').classList.remove('hidden');
                    document.getElementById('industry-multiple').innerText = `${industryMultiples.users.default}â‚¹/User`;
                }
            }
        }

        function simulateEquity() {
            const founderShares = parseFloat(document.getElementById('founder-shares').value);
            const existingInvestorShares = parseFloat(document.getElementById('existing-investor-shares').value);
            const esopPoolShares = parseFloat(document.getElementById('esop-pool-shares').value);
            const investmentAmount = parseFloat(document.getElementById('investment-amount').value);
            const valuationBasis = document.getElementById('valuation-basis').value;

            let preMoneyValuationForRound;
            let currentValuationInput = parseFloat(document.getElementById('current-valuation').value); // For fixed basis

            if (valuationBasis === 'fixed') {
                preMoneyValuationForRound = currentValuationInput;
            } else {
                let baseValue = 0;
                let multiple = 0;
                let perUnitValue = 0;
                // Get sector from investor connect section, or default to a generic one if not entered
                const sectorInput = document.getElementById('ic-startup-sector');
                const sector = sectorInput && sectorInput.value.trim() !== '' ? sectorInput.value.toLowerCase() : 'default';

                if (valuationBasis === 'revenue') {
                    baseValue = parseFloat(document.getElementById('annual-revenue').value || 0);
                    multiple = industryMultiples.revenue[sector] || industryMultiples.revenue.default;
                    preMoneyValuationForRound = baseValue * multiple;
                } else if (valuationBasis === 'profit') {
                    baseValue = parseFloat(document.getElementById('annual-profit').value || 0);
                    multiple = industryMultiples.profit[sector] || industryMultiples.profit.default;
                    preMoneyValuationForRound = baseValue * multiple;
                } else if (valuationBasis === 'users') {
                    baseValue = parseFloat(document.getElementById('annual-users').value || 0);
                    perUnitValue = industryMultiples.users[sector] || industryMultiples.users.default;
                    preMoneyValuationForRound = baseValue * perUnitValue;
                }
                if (isNaN(preMoneyValuationForRound) || preMoneyValuationForRound === 0) {
                    showMessageModal('Input Error', 'Please provide a valid input value for the selected valuation basis (Revenue, Profit, or Users).');
                    document.getElementById('post-money-val').innerText = 'N/A';
                    document.getElementById('total-shares-post').innerText = 'N/A';
                    document.getElementById('founder-equity-new').innerText = 'N/A';
                    document.getElementById('founder-dilution').innerText = 'N/A';
                    document.getElementById('investor-equity').innerText = 'N/A';
                    return;
                }
            }

            if (isNaN(founderShares) || isNaN(existingInvestorShares) || isNaN(esopPoolShares) || isNaN(preMoneyValuationForRound) || isNaN(investmentAmount)) {
                showMessageModal('Input Error', 'Please ensure all numerical inputs are valid.');
                document.getElementById('post-money-val').innerText = 'Invalid Input';
                document.getElementById('total-shares-post').innerText = 'N/A';
                document.getElementById('founder-equity-new').innerText = 'N/A';
                document.getElementById('founder-dilution').innerText = 'N/A';
                document.getElementById('investor-equity').innerText = 'N/A';
                return;
            }

            const initialTotalShares = founderShares + existingInvestorShares + esopPoolShares;
            if (initialTotalShares === 0) {
                showMessageModal('Input Error', 'Please add initial shares (Founder, Existing Investor, ESOP) to run the simulation.');
                document.getElementById('post-money-val').innerText = 'N/A';
                document.getElementById('total-shares-post').innerText = 'N/A';
                document.getElementById('founder-equity-new').innerText = 'N/A';
                document.getElementById('founder-dilution').innerText = 'N/A';
                document.getElementById('investor-equity').innerText = 'N/A';
                return;
            }
            if (preMoneyValuationForRound <= 0) {
                showMessageModal('Input Error', 'Pre-Money Valuation must be a positive number.');
                document.getElementById('post-money-val').innerText = 'N/A';
                document.getElementById('total-shares-post').innerText = 'N/A';
                document.getElementById('founder-equity-new').innerText = 'N/A';
                document.getElementById('founder-dilution').innerText = 'N/A';
                document.getElementById('investor-equity').innerText = 'N/A';
                return;
            }

            const newSharesForInvestor = (investmentAmount / preMoneyValuationForRound) * initialTotalShares;
            
            const postMoneyValuation = preMoneyValuationForRound + investmentAmount;
            const totalSharesPostRound = initialTotalShares + newSharesForInvestor;

            const founderEquityNew = (founderShares / totalSharesPostRound) * 100;
            const founderEquityOld = (founderShares / initialTotalShares) * 100;
            const founderDilution = founderEquityOld - founderEquityNew;
            const investorEquity = (newSharesForInvestor / totalSharesPostRound) * 100;

            document.getElementById('post-money-val').innerText = `â‚¹${formatCurrency(postMoneyValuation)}`;
            document.getElementById('total-shares-post').innerText = totalSharesPostRound.toLocaleString('en-IN');
            document.getElementById('founder-equity-new').innerText = `${founderEquityNew.toFixed(2)}%`;
            document.getElementById('founder-dilution').innerText = `${founderDilution.toFixed(2)}%`;
            document.getElementById('investor-equity').innerText = `${investorEquity.toFixed(2)}%`;
        }


        // --- Investor Connect: Find Investors Logic ---
        function findInvestors() {
            const stage = document.getElementById('ic-startup-stage').value;
            const sector = document.getElementById('ic-startup-sector').value.toLowerCase();
            const amount = parseFloat(document.getElementById('ic-investment-seeking').value);
            const resultsDiv = document.getElementById('investor-match-results');
            resultsDiv.classList.remove('hidden'); // Show results section

            let matches = [];

            // Basic simulation logic based on inputs
            if (stage === 'Seed' || stage === 'Proof of Concept' || stage === 'Ideation') {
                matches.push({ name: 'Mumbai Angels Network', focus: 'Early-stage startups across sectors. Investment Range: â‚¹50 Lakhs - â‚¹5 Crores.' });
                matches.push({ name: 'Venture Catalysts', focus: 'Seed to Series A investments. Strong focus on scalable models.' });
            }
            if (stage === 'Series A' || stage === 'Growth Stage') {
                matches.push({ name: 'Sequoia Capital India (Surge)', focus: 'Pre-Seed to Series A, various sectors. Program-based approach.' });
                matches.push({ name: 'Blume Ventures', focus: 'Seed to Pre-Series A, diverse portfolio including SaaS, FinTech.' });
                matches.push({ name: 'Accel India', focus: 'Early-stage and growth-stage investments. Broad sector interest.' });
            }

            if (sector.includes('fintech')) {
                matches.push({ name: 'Inflection Point Ventures', focus: 'Sector agnostic, but strong interest in FinTech.' });
            }
            if (sector.includes('saas')) {
                matches.push({ name: 'Kalaari Capital', focus: 'Focus on technology-driven ventures, including SaaS.' });
            }
            if (amount < 10000000) { // Under 1 Crore
                matches = matches.filter(m => !m.name.includes('Sequoia Capital')); // Less likely for very large VCs
            }

            // Deduplicate matches
            const uniqueMatches = Array.from(new Set(matches.map(a => a.name)))
                .map(name => {
                    return matches.find(a => a.name === name);
                });

            let resultsHtml = '';
            if (uniqueMatches.length > 0) {
                uniqueMatches.forEach(investor => {
                    resultsHtml += `
                        <div class="p-4 bg-orange-50 rounded-lg shadow-sm animate-fly-in">
                            <h4 class="text-lg font-bold text-orange-700">${investor.name}</h4>
                            <p class="text-sm text-gray-700">${investor.focus}</p>
                            <button class="btn-secondary text-sm mt-2" onclick="showMessageModal('Connect with Investor', 'Simulating: Initiate connection with ${investor.name}')">Connect</button>
                        </div>
                    `;
                });
                resultsHtml += `<p class="text-sm text-gray-600 mt-4">These are illustrative matches. Actual matching will be based on detailed criteria.</p>`;
            } else {
                resultsHtml = `<p class="text-lg text-gray-700">No direct matches found. Try adjusting your criteria or explore government funding options.</p>`;
            }

            resultsDiv.innerHTML = `<h3 class="text-xl font-bold text-gray-800 mb-4">Potential Investor Matches:</h3><div class="space-y-4">${resultsHtml}</div>`;
        }

        // --- Team Management Functions ---
        function populatePageSelectionCheckboxes() {
            const container = document.getElementById('page-selection-checkboxes');
            container.innerHTML = ''; // Clear existing checkboxes

            allPageSections.forEach(page => {
                // Exclude the current 'Team Management' page from selectable options to avoid circular logic
                if (page.id === 'team-management') return;

                const div = document.createElement('div');
                div.className = 'flex items-center';
                div.innerHTML = `
                    <input type="checkbox" id="access-${page.id}" value="${page.id}" class="form-checkbox h-4 w-4 text-orange-600 rounded">
                    <label for="access-${page.id}" class="ml-2 text-gray-700 text-sm">${page.name}</label>
                `;
                container.appendChild(div);
            });
        }

        function togglePageSelection() {
            const accessType = document.getElementById('new-member-access-type').value;
            const selectedPagesContainer = document.getElementById('selected-pages-container');
            if (accessType === 'selected') {
                selectedPagesContainer.classList.remove('hidden');
            } else {
                selectedPagesContainer.classList.add('hidden');
                // Uncheck all checkboxes when switching to "All Pages"
                document.querySelectorAll('#page-selection-checkboxes input[type="checkbox"]').forEach(checkbox => {
                    checkbox.checked = false;
                });
            }
        }

        function renderTeamMembers() {
            const teamListDiv = document.getElementById('team-members-list');
            teamListDiv.innerHTML = ''; // Clear existing list

            if (teamMembers.length === 0) {
                teamListDiv.innerHTML = '<p class="text-gray-600">No team members added yet. Add your first member above!</p>';
                return;
            }

            teamMembers.forEach((member, index) => {
                const memberDiv = document.createElement('div');
                memberDiv.className = 'flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-gray-100 rounded-lg shadow-sm animate-fly-in';
                memberDiv.style.animationDelay = `${0.1 * index}s`;

                let accessDisplay = '';
                if (member.accessType === 'all') {
                    accessDisplay = '<span class="font-semibold text-orange-600">(All Pages Access)</span>';
                } else if (member.accessType === 'selected' && member.accessiblePages.length > 0) {
                    const pageNames = member.accessiblePages.map(id => {
                        const page = allPageSections.find(p => p.id === id);
                        return page ? page.name : id;
                    }).join(', ');
                    accessDisplay = `<span class="font-semibold text-blue-600">(Access: ${pageNames})</span>`;
                } else {
                    accessDisplay = '<span class="font-semibold text-gray-500">(No Specific Page Access)</span>';
                }

                memberDiv.innerHTML = `
                    <div>
                        <p class="font-bold text-gray-800">${member.name}</p>
                        <p class="text-sm text-gray-600">${member.email} <span class="font-semibold text-orange-600">(${member.role})</span> ${accessDisplay}</p>
                    </div>
                    <div class="mt-3 sm:mt-0 flex items-center space-x-2">
                        <button class="text-blue-600 hover:text-blue-800" onclick="showMessageModal('Manage Access', 'Simulating: Edit access permissions for ${member.name}. This would open a detailed modal to set granular access for sections (Concept Builder, Registration, etc.) and specific files/folders.')">Manage Access</button>
                        <button class="text-red-600 hover:text-red-800" onclick="removeTeamMember('${member.email}')">Remove</button>
                    </div>
                `;
                teamListDiv.appendChild(memberDiv);
            });
        }

        function addTeamMember() {
            const nameInput = document.getElementById('new-member-name');
            const emailInput = document.getElementById('new-member-email');
            const roleInput = document.getElementById('new-member-role');
            const accessTypeInput = document.getElementById('new-member-access-type');

            const name = nameInput.value.trim();
            const email = emailInput.value.trim();
            const role = roleInput.value.trim();
            const accessType = accessTypeInput.value;
            let accessiblePages = [];

            if (accessType === 'selected') {
                document.querySelectorAll('#page-selection-checkboxes input[type="checkbox"]:checked').forEach(checkbox => {
                    accessiblePages.push(checkbox.value);
                });
                if (accessiblePages.length === 0) {
                    showMessageModal('Input Error', 'Please select at least one page for "Selected Pages" access.');
                    return;
                }
            }

            if (!name || !email || !role) {
                showMessageModal('Input Error', 'Please fill in all member details (Name, Email, Role).');
                return;
            }
            if (!email.includes('@') || !email.includes('.')) {
                showMessageModal('Input Error', 'Please enter a valid email address.');
                return;
            }
            if (teamMembers.some(member => member.email === email)) {
                showMessageModal('Input Error', 'A member with this email already exists.');
                return;
            }

            const newMember = { name, email, role, accessType, accessiblePages };
            teamMembers.push(newMember);
            renderTeamMembers(); // Re-render the list

            // Clear form
            nameInput.value = '';
            emailInput.value = '';
            roleInput.value = '';
            accessTypeInput.value = 'all'; // Reset to default
            togglePageSelection(); // Hide selected pages container
            showMessageModal('Success', `${name} added successfully!`);
        }

        function removeTeamMember(emailToRemove) {
            showMessageModal(
                'Confirm Removal',
                `Are you sure you want to remove ${emailToRemove} from the team? This action cannot be undone.`,
                true, // This is a confirmation
                () => { // Callback function if confirmed
                    const initialLength = teamMembers.length;
                    teamMembers = teamMembers.filter(member => member.email !== emailToRemove);
                    if (teamMembers.length < initialLength) {
                        renderTeamMembers(); // Re-render the list
                        showMessageModal('Success', `${emailToRemove} removed.`);
                    } else {
                        showMessageModal('Error', `Could not find ${emailToRemove}.`);
                    }
                }
            );
        }

        // --- AI Idea Sparker Logic ---
        function showIdeaSparkerModal() {
            const modal = document.getElementById('ai-sparker-modal');
            document.getElementById('idea-sparker-prompt').value = ''; // Clear previous prompt
            document.getElementById('idea-sparker-response').innerHTML = '<p class="text-gray-500">Your AI-generated idea will appear here...</p>'; // Clear previous response
            document.getElementById('select-sparked-idea-btn').disabled = true; // Disable select button
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('show'), 10);
        }

        function hideIdeaSparkerModal() {
            const modal = document.getElementById('ai-sparker-modal');
            modal.classList.remove('show');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        async function generateIdea() {
            const prompt = document.getElementById('idea-sparker-prompt').value.trim();
            const responseDiv = document.getElementById('idea-sparker-response');
            const selectButton = document.getElementById('select-sparked-idea-btn');

            if (!prompt) {
                responseDiv.innerHTML = '<p class="text-red-500">Please enter some keywords or interests to spark an idea.</p>';
                selectButton.disabled = true;
                return;
            }

            responseDiv.innerHTML = '<p class="text-blue-500">Generating idea... Please wait.</p>';
            selectButton.disabled = true; // Disable while generating

            // Simulate LLM call
            // In a real application, you would make a fetch call to the Gemini API here.
            // Example:
            // const apiKey = ""; // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
            // const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            // const payload = { contents: [{ role: "user", parts: [{ text: `Generate a startup idea based on these keywords: ${prompt}` }] }] };
            // const response = await fetch(apiUrl, {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify(payload)
            // });
            // const result = await response.json();
            // const aiResponseText = result.candidates[0].content.parts[0].text;

            setTimeout(() => {
                const simulatedIdeas = [
                    `**AI-Powered Personalized Learning Platform for Rural Students:** Leveraging AI to deliver adaptive educational content in local dialects, assessing individual learning paces and providing tailored feedback. Integrates gamification and offline access.`,
                    `**Blockchain-Secured Supply Chain for Organic Produce:** A transparent and traceable system using blockchain to connect farmers directly with consumers, ensuring authenticity and fair pricing for organic produce. AI can predict demand and optimize logistics.`,
                    `**Smart Waste Segregation & Recycling Robotics:** Develop autonomous robots for efficient household waste segregation at the source, linked to a cloud platform for optimized collection routes and real-time data on recycling rates.`,
                    `**Hyperlocal Skill Exchange Marketplace for Artisans:** A mobile-first platform connecting local artisans and skilled workers with customers for bespoke services and products, facilitating direct transactions and community building. Incorporates AI for skill matching and quality control.`,
                    `**Sustainable Urban Farming Solutions with IoT:** Deploying IoT sensors and AI-driven analytics to optimize water usage, nutrient delivery, and crop yield in vertical and rooftop farms within urban centers, promoting local food security.`
                ];
                const selectedIdea = simulatedIdeas[Math.floor(Math.random() * simulatedIdeas.length)];
                responseDiv.innerHTML = `<p id="sparked-idea-text">${selectedIdea}</p>`;
                selectButton.disabled = false; // Enable select button after generation
            }, 1500); // Simulate network delay
        }

        function selectSparkedIdea() {
            const sparkedIdeaText = document.getElementById('sparked-idea-text').innerText;
            if (sparkedIdeaText && sparkedIdeaText !== 'Your AI-generated idea will appear here...') {
                handleIdeaSelection(sparkedIdeaText.split(':')[0].replace('**', '').trim()); // Extract just the bold title
            } else {
                showMessageModal('No Idea Generated', 'Please generate an idea first before selecting it.');
            }
        }


        // --- AI Co-Pilot Logic ---
        function showAICoPilotModal(tabName) {
            currentAICoPilotTextareaId = `${tabName}-textarea`; // Store the ID of the textarea
            const currentContent = document.getElementById(currentAICoPilotTextareaId).value;
            
            const modal = document.getElementById('ai-copilot-modal');
            document.getElementById('ai-copilot-title').innerText = `AI Co-Pilot: Enhance ${tabName.charAt(0).toUpperCase() + tabName.slice(1)}`;
            document.getElementById('ai-copilot-input').value = currentContent;
            document.getElementById('ai-copilot-prompt').value = ''; // Clear prompt
            document.getElementById('ai-copilot-response').innerHTML = '<p class="text-gray-500">AI-enhanced content will appear here...</p>'; // Clear response
            document.getElementById('apply-ai-enhancement-btn').disabled = true; // Disable apply button initially

            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('show'), 10);
        }

        function hideAICoPilotModal() {
            const modal = document.getElementById('ai-copilot-modal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.classList.add('hidden');
                currentAICoPilotTextareaId = ''; // Clear the stored ID
            }, 300);
        }

        async function enhanceContent() {
            const currentContent = document.getElementById('ai-copilot-input').value;
            const userPrompt = document.getElementById('ai-copilot-prompt').value.trim();
            const responseDiv = document.getElementById('ai-copilot-response');
            const applyButton = document.getElementById('apply-ai-enhancement-btn');

            if (!currentContent && !userPrompt) {
                responseDiv.innerHTML = '<p class="text-red-500">Please provide some content or a prompt for AI to enhance.</p>';
                applyButton.disabled = true;
                return;
            }

            responseDiv.innerHTML = '<p class="text-blue-500">Enhancing content... Please wait.</p>';
            applyButton.disabled = true; // Disable while generating

            // Simulate LLM call
            // In a real application, you would make a fetch call to the Gemini API here.
            // Example:
            // const apiKey = ""; // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
            // const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            // const fullPrompt = `Given the following text: "${currentContent}". ${userPrompt ? `Please enhance it by: ${userPrompt}` : 'Please enhance it.'} Make it more professional and detailed.`;
            // const payload = { contents: [{ role: "user", parts: [{ text: fullPrompt }] }] };
            // const response = await fetch(apiUrl, {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify(payload)
            // });
            // const result = await response.json();
            // const aiResponseText = result.candidates[0].content.parts[0].text;

            setTimeout(() => {
                let enhancedText = '';
                // Simulate different enhancements based on tab content
                const tabName = currentAICoPilotTextareaId.replace('-textarea', '');
                if (tabName === 'problem') {
                    enhancedText = `Refined Problem Statement: The critical issue of "${currentContent}" is exacerbated by a lack of [specific resource/technology] and [market inefficiency], leading to significant operational bottlenecks and revenue loss for [Target User Segment]. This problem represents a substantial unmet need in the market, impacting [Industry Metric] by [X%].`;
                } else if (tabName === 'solution') {
                    enhancedText = `Innovative Solution Overview: Our groundbreaking solution, building upon "${currentContent}", leverages cutting-edge [AI/Blockchain/IoT] technology to directly address [Key Problem Points]. Its unique value proposition lies in its [scalability/cost-efficiency/user-centric design] and [competitive differentiator], providing a superior and sustainable alternative to existing methods.`;
                } else if (tabName === 'product') {
                    enhancedText = `Detailed Product Description: Our product, "${currentContent}", is a [Type of Product] featuring core functionalities such as [Feature 1 with benefit], [Feature 2 with benefit], and [Feature 3 with benefit]. Designed with [Key Design Principle], it aims to deliver [Quantifiable Benefit 1] and [Quantifiable Benefit 2] to our users, ensuring a seamless and impactful experience.`;
                } else if (tabName === 'market') {
                    enhancedText = `Comprehensive Market Opportunity: The Total Addressable Market (TAM) for our solution is estimated at â‚¹[Large Number] Crore, with a Serviceable Available Market (SAM) of â‚¹[Smaller Number] Crore, demonstrating significant growth potential. Our initial focus targets a Serviceable Obtainable Market (SOM) of â‚¹[Even Smaller Number] Crore within the next 18 months, driven by [Market Trend] and [Customer Need].`;
                } else if (tabName === 'revenue') {
                    enhancedText = `Optimized Revenue Model: Our primary revenue streams will be generated through a [Subscription/Freemium/Transaction-based] model, with projected annual revenues of â‚¹[Amount] Lakhs in Year 1, growing to â‚¹[Larger Amount] Lakhs by Year 3. This model is designed for scalability, recurring income, and a clear path to profitability by [Month/Year].`;
                } else if (tabName === 'traction') {
                    enhancedText = `Key Traction & Milestones: We have achieved significant early traction, including [Number] active users, â‚¹[Amount] in monthly recurring revenue, and strategic partnerships with [Partner Names]. Our recent product launch saw [Metric, e.g., 20% week-over-week] growth, validating our market fit and paving the way for accelerated expansion.`;
                } else if (tabName === 'team') {
                    enhancedText = `Exceptional Founding Team: Our core team comprises [Founder 1 Name], a visionary with [Relevant Experience, e.g., 10+ years in FinTech and 2 successful exits], and [Founder 2 Name], an expert in [Relevant Expertise, e.g., AI/ML development with patents]. Together, our diverse skill sets, complementary expertise, and shared passion position us uniquely to execute this venture successfully and disrupt the [Industry] sector.`;
                } else if (tabName === 'competition') {
                    enhancedText = `Strategic Competitive Analysis: While competitors like [Competitor 1] and [Competitor 2] exist, our unique competitive advantage lies in our [Unique Selling Proposition 1, e.g., proprietary algorithm] and [Unique Selling Proposition 2, e.g., superior customer support]. We offer a differentiated approach that addresses [Specific Gap] in the market, providing a compelling alternative.`;
                } else if (tabName === 'ask') {
                    enhancedText = `Strategic Funding Ask: We are seeking â‚¹[Amount] Crore in [Funding Round Type, e.g., Seed/Series A] funding to accelerate our growth. These funds will be strategically allocated to [Allocation 1, e.g., product development (40%)], [Allocation 2, e.g., market expansion (30%)], and [Allocation 3, e.g., talent acquisition (30%)] to achieve our next critical milestones within [Timeframe, e.g., 18 months].`;
                } else if (tabName === 'vision') {
                    enhancedText = `Ambitious Vision & Roadmap: Our long-term vision is to become the leading [Industry] platform by [Year], transforming [Specific Area]. Our roadmap includes [Milestone 1, e.g., achieving 1M users], [Milestone 2, e.g., expanding to 5 new cities], and [Milestone 3, e.g., launching v2.0 with AI features] over the next 1-3 years, driving sustainable innovation and market leadership.`;
                } else {
                    // Fallback if no specific enhancement is defined
                    enhancedText = `AI has enhanced your content: ${currentContent} ${userPrompt ? `based on your request "${userPrompt}".` : ''} This is a more detailed and refined version of your input.`;
                }
                
                responseDiv.innerHTML = `<p>${enhancedText}</p>`;
                applyButton.disabled = false; // Enable apply button after generation
            }, 1500); // Simulate network delay
        }

        function applyAICoPilotEnhancement() {
            if (currentAICoPilotTextareaId) {
                const enhancedContent = document.getElementById('ai-copilot-response').innerText;
                const targetTextarea = document.getElementById(currentAICoPilotTextareaId);
                targetTextarea.value = enhancedContent;
                hideAICoPilotModal();
                showMessageModal('Success', 'AI-enhanced content applied to your document!');
            }
        }


        // --- Company Registration Specific Logic ---
        function updateRegistrationPage() {
            const newCompanyOptions = document.getElementById('new-company-registration-options');
            const existingCompanyRadio = document.querySelector('input[name="company-status"][value="existing"]');
            const newCompanyRadio = document.querySelector('input[name="company-status"][value="new"]');

            // Default to "Help me register a new company" and show options
            newCompanyRadio.checked = true;
            newCompanyOptions.classList.remove('hidden');
            
            // Default to "I seek your help" for company type selection
            document.querySelector('input[name="company-type-selection"][value="seek-help"]').checked = true;
            toggleCompanyTypeInput(); // Initialize the company type input visibility
        }

        function toggleCompanyRegistrationOptions() {
            const newCompanyOptions = document.getElementById('new-company-registration-options');
            const selectedStatus = document.querySelector('input[name="company-status"]:checked').value;

            if (selectedStatus === 'new') {
                newCompanyOptions.classList.remove('hidden');
                // Ensure "I seek your help" is checked by default when showing new registration options
                document.querySelector('input[name="company-type-selection"][value="seek-help"]').checked = true;
                toggleCompanyTypeInput(); // Apply visibility based on this default
            } else {
                newCompanyOptions.classList.add('hidden');
                document.getElementById('company-type-suggestion-response').innerHTML = '<p class="text-gray-500">AI will suggest a company type here based on your selected idea...</p>'; // Clear suggestion
            }
        }

        function toggleCompanyTypeInput() {
            const knownTypeInput = document.getElementById('known-company-type-input');
            const suggestTypeSection = document.getElementById('suggest-company-type-section');
            const selectedTypeOption = document.querySelector('input[name="company-type-selection"]:checked').value;

            if (selectedTypeOption === 'know-type') {
                knownTypeInput.classList.remove('hidden');
                suggestTypeSection.classList.add('hidden');
                document.getElementById('company-type-suggestion-response').innerHTML = '<p class="text-gray-500">AI will suggest a company type here based on your selected idea...</p>'; // Clear suggestion
            } else {
                knownTypeInput.classList.add('hidden');
                suggestTypeSection.classList.remove('hidden');
                document.getElementById('company-type-dropdown').value = ''; // Clear dropdown selection
            }
        }

        async function suggestCompanyType() {
            const suggestionResponseDiv = document.getElementById('company-type-suggestion-response');
            const idea = selectedIdeaName || "a generic startup idea"; // Use selected idea or fallback
            
            suggestionResponseDiv.innerHTML = '<p class="text-blue-500">Analyzing your idea and suggesting company types... Please wait.</p>';

            // Simulate LLM call for company type suggestion
            setTimeout(() => {
                let suggestedType = "Private Limited Company";
                let pros = ["Limited liability for founders", "Easier to raise funding from investors", "Separate legal entity", "Perpetual succession"];
                let cons = ["More compliance burden", "Higher registration costs", "Requires minimum two directors"];

                if (idea.toLowerCase().includes("freelance") || idea.toLowerCase().includes("solo")) {
                    suggestedType = "Sole Proprietorship";
                    pros = ["Easy to set up and low cost", "Minimal compliance", "Full control"];
                    cons = ["Unlimited liability", "Hard to raise external funding", "No separate legal identity"];
                } else if (idea.toLowerCase().includes("partnership") || idea.toLowerCase().includes("collaboration")) {
                    suggestedType = "Limited Liability Partnership (LLP)";
                    pros = ["Limited liability for partners", "Less compliance than Pvt Ltd", "Easy to form and manage"];
                    cons = ["Cannot raise equity funding easily", "Partnership disputes can arise"];
                } else if (idea.toLowerCase().includes("social impact") || idea.toLowerCase().includes("non-profit")) {
                    suggestedType = "Section 8 Company";
                    pros = ["Promotes social objectives", "Tax benefits", "Credibility"];
                    cons = ["Profits cannot be distributed to members", "Strict compliance for charitable objects"];
                }

                let responseHtml = `<p class="font-bold text-lg text-orange-700">Based on "${idea}", we suggest a <span class="underline">${suggestedType}</span>.</p>`;
                responseHtml += `<h4 class="font-semibold mt-3">Advantages:</h4><ul class="list-disc list-inside ml-4">`;
                pros.forEach(p => responseHtml += `<li>${p}</li>`);
                responseHtml += `</ul>`;
                responseHtml += `<h4 class="font-semibold mt-3">Disadvantages:</h4><ul class="list-disc list-inside ml-4">`;
                cons.forEach(c => responseHtml += `<li>${c}</li>`);
                responseHtml += `</ul>`;
                responseHtml += `<p class="text-sm text-gray-600 mt-4">This is a general suggestion. Consult a legal expert for tailored advice.</p>`;

                suggestionResponseDiv.innerHTML = responseHtml;
            }, 2000); // Simulate network delay
        }

        // --- Templates and Agreements Modal Logic ---
        function showTemplatesAndAgreementsModal() {
            const modal = document.getElementById('templates-agreements-modal');
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('show'), 10);
        }

        function hideTemplatesAndAgreementsModal() {
            const modal = document.getElementById('templates-agreements-modal');
            modal.classList.remove('show');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        // --- StartupSaathi Growth Score Logic ---
        function renderGrowthScore() {
            const resultsDiv = document.getElementById('growth-score-results');
            const startupNameSpan = document.getElementById('growth-score-startup-name');
            const tableBody = document.getElementById('growth-score-table-body');
            const overallScoreSpan = document.getElementById('overall-proprietary-score');
            const totalContributionSpan = document.getElementById('growth-score-total-contribution');
            const overallSummaryDiv = document.getElementById('overall-ai-summary');

            // Show loading state
            resultsDiv.classList.add('hidden');
            overallSummaryDiv.innerHTML = '<p class="text-blue-500">Computing your Growth Score... Please wait.</p>';

            // Simulate AI computation delay
            setTimeout(() => {
                const startupName = selectedIdeaName || "Your Current Idea"; // Use selected idea name

                const categories = [
                    { name: "Market Differentiation", weight: 20, raw: 4.2, insight: "Identifies novel approach to [problem], few direct comparables. High NLP novelty score." },
                    { name: "Technological Viability & Scalability", weight: 15, raw: 3.4, insight: "Notes solid tech stack, but potential scaling issues inferred from [specific tech detail]." },
                    { name: "Market Alignment & Future Potential", weight: 15, raw: 4.8, insight: "Shows strong correlation with identified future market trends in [sector]. High trend alignment index." },
                    { name: "Competitive Landscape & Positioning", weight: 10, raw: 2.8, insight: "Detects numerous established players. Positioning strategy seems unclear based on [data point]." },
                    { name: "Founder & Team Strength", weight: 20, raw: 4.5, insight: "Recognizes founders' strong domain expertise (e.g., from past roles at [Company Y]). High team cohesion score." },
                    { name: "Founder-Competitor Comparative Advantage", weight: 5, raw: 3.9, insight: "Indicates founders possess unique network access/experience in [specific area] compared to competitor founders." },
                    { name: "Investor Appeal & Traction Potential", weight: 10, raw: 3.5, insight: "Suggests moderate investor interest based on recent funding rounds in similar niches. Early user engagement metrics (if available) are [status]." },
                    { name: "Regulatory & Ecosystem Support", weight: 5, raw: 3.1, insight: "Notes neutral regulatory stance. Some local ecosystem support identified through [data point]." }
                ];

                let totalScoreContribution = 0;
                let tableRowsHtml = '';

                categories.forEach(cat => {
                    const normalizedScore = (cat.raw / 5) * 100;
                    const scoreContribution = (normalizedScore / 100) * cat.weight;
                    totalScoreContribution += scoreContribution;

                    tableRowsHtml += `
                        <tr>
                            <td class="font-semibold">${cat.name} <a href="#" class="text-blue-600 hover:underline text-sm ml-2" onclick="showCategoryDetailsModal('${cat.name}')">Find out more</a></td>
                            <td>${cat.raw.toFixed(1)}</td>
                            <td>${normalizedScore.toFixed(1)}</td>
                            <td>${scoreContribution.toFixed(1)}</td>
                            <td>${cat.insight}</td>
                        </tr>
                    `;
                });

                const overallProprietaryScore = totalScoreContribution.toFixed(0); // Round to nearest whole number

                startupNameSpan.innerText = startupName;
                overallScoreSpan.innerText = `${overallProprietaryScore}/100`;
                tableBody.innerHTML = tableRowsHtml;
                totalContributionSpan.innerText = totalScoreContribution.toFixed(1);

                // Overall AI/ML Summary & Strategic Recommendations
                const summary = `
                    <p class="font-semibold mb-2">Overall Summary:</p>
                    <p>Your startup, "${startupName}", demonstrates strong potential in Market Differentiation, Market Alignment, and Founder & Team Strength, which are critical pillars for early-stage success. The models highlight your unique approach and the team's robust expertise as significant advantages.</p>
                    <p class="font-semibold mt-3 mb-2">Strategic Recommendations:</p>
                    <ul class="list-disc list-inside ml-4">
                        <li>Strengthen Competitive Positioning: Develop a clearer differentiation strategy against established players. Consider niche targeting or unique value propositions to stand out.</li>
                        <li>Address Scalability Concerns: Review your current technology stack and infrastructure to proactively address potential scaling bottlenecks identified. Plan for future growth.</li>
                        <li>Boost Investor Appeal: Focus on showcasing early traction and clear monetization pathways. Highlight the market alignment and team strength in your pitch.</li>
                        <li>Leverage Ecosystem Support: Actively engage with identified local ecosystem support points to gain mentorship, partnerships, and resources.</li>
                    </ul>
                    <p class="text-sm text-gray-600 mt-4">This assessment is based on available data and simulated analysis. Continuous refinement of your concept and execution will impact your actual growth trajectory.</p>
                `;
                overallSummaryDiv.innerHTML = summary;

                resultsDiv.classList.remove('hidden'); // Show results
            }, 2000); // Simulate computation time
        }

        // --- Category Details Modal Logic ---
        const categoryDetails = {
            "Market Differentiation": {
                insights: "This score reflects how uniquely your startup addresses its target market compared to existing solutions. A high score indicates a clear, defensible position. Low scores suggest a need to refine your value proposition or target a more specific niche.",
                recommendations: "Conduct deeper competitive analysis. Identify underserved customer segments. Articulate a clear, concise unique selling proposition (USP). Consider pivoting slightly to enhance novelty."
            },
            "Technological Viability & Scalability": {
                insights: "This assesses the feasibility of your technology and its ability to handle future growth. High scores mean your tech stack is robust and scalable. Low scores indicate potential bottlenecks or technical debt that could hinder expansion.",
                recommendations: "Review your architectural design for scalability. Plan for infrastructure upgrades. Consider adopting cloud-native solutions. Prioritize technical debt reduction."
            },
            "Market Alignment & Future Potential": {
                insights: "This evaluates how well your idea resonates with current and emerging market needs and its long-term growth prospects. High alignment suggests strong product-market fit and a large addressable market. Low alignment might mean your solution is ahead of its time or lacks broad appeal.",
                recommendations: "Validate market demand through surveys and pilot programs. Monitor industry trends closely. Be prepared to iterate on your product based on market feedback. Explore adjacent market opportunities."
            },
            "Competitive Landscape & Positioning": {
                insights: "This score indicates how effectively your startup can compete within its industry. High scores mean you have a strong competitive advantage. Low scores suggest a crowded market or an undifferentiated offering.",
                recommendations: "Refine your competitive strategy. Clearly define your target customer. Highlight what makes you superior to alternatives. Consider strategic partnerships or acquisitions."
            },
            "Founder & Team Strength": {
                insights: "This assesses the collective experience, skills, and cohesion of your founding team. High scores reflect a well-rounded team with relevant domain expertise and a strong ability to execute. Low scores may indicate skill gaps or team dynamics issues.",
                recommendations: "Identify and address any skill gaps through hiring or advisory board appointments. Foster strong communication and collaboration within the team. Seek mentorship from experienced entrepreneurs."
            },
            "Founder-Competitor Comparative Advantage": {
                insights: "This looks at unique advantages the founders possess over competitors' leadership (e.g., specific networks, unique intellectual property, deep industry secrets). A high score indicates a defensible moat based on founder attributes.",
                recommendations: "Leverage unique founder strengths in fundraising and marketing. Protect any proprietary knowledge or networks. Continuously build on this advantage."
            },
            "Investor Appeal & Traction Potential": {
                insights: "This evaluates how attractive your startup is to potential investors and its capacity to generate significant early traction. High scores suggest a compelling investment opportunity and strong early growth. Low scores may indicate a need to improve your pitch, business model, or demonstrate more tangible progress.",
                recommendations: "Focus on achieving key milestones that demonstrate traction (e.g., user growth, revenue, partnerships). Refine your pitch deck and financial model. Network with relevant investors and accelerators."
            },
            "Regulatory & Ecosystem Support": {
                insights: "This assesses the favorability of the regulatory environment and the availability of supportive ecosystem resources (e.g., government grants, incubators, industry associations). High scores mean a conducive environment. Low scores might indicate regulatory hurdles or a lack of local support.",
                recommendations: "Stay informed about relevant policies and regulations. Engage with government bodies and industry associations. Seek out local incubators, accelerators, and startup communities for support."
            }
        };

        function showCategoryDetailsModal(categoryName) {
            const details = categoryDetails[categoryName];
            if (!details) {
                showMessageModal('Details Not Found', 'No detailed information available for this category.');
                return;
            }

            const content = `
                <p class="font-semibold mb-2">Insights:</p>
                <p>${details.insights}</p>
                <p class="font-semibold mt-4 mb-2">Recommendations:</p>
                <p>${details.recommendations}</p>
            `;
            showMessageModal(`${categoryName} Details`, content);
        }


        // --- Initial Load Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            showSection(null, 'dashboard'); // Load the Dashboard by default

            // Initialize slider value displays
            updateSliderValue('founder-shares', 'founder-shares-val');
            updateSliderValue('existing-investor-shares', 'existing-investor-shares-val');
            updateSliderValue('esop-pool-shares', 'esop-pool-shares-val');
            updateSliderValue('current-valuation', 'current-valuation-val', 'currency');
            updateSliderValue('investment-amount', 'investment-amount-val', 'currency');

            // Populate page selection checkboxes for Team Management
            populatePageSelectionCheckboxes();
        });
    </script>
</body>
</html>
